<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset=utf-8>
  <meta name="robots" content="noindex,nofollow">
  <meta name="Content-Style" content="text/css">
  <title>TGrep2 and Tregex queries with the online interface</title>
  <style>
  body {
    background-color: #FFFFFF;
    color: #111111;
    margin: 15px auto;
    padding: 0 10px;
  }
  @media (min-width: 800px) {
    body {
      max-width: 85%;
    }
  }
  </style>
</head>
<body>
<br>
<center><h1>TGrep2 and Tregex queries with the online interface</h1></center>
<center><h2>Alastair Butler</h2></center>
<center><h3>Hirosaki University</h3></center>
<br>
<br>
<center><h3>Abstract</h3></center>

<p align="justify">TGrep2 and Tregex are tools for searching syntax trees. This guide introduces their shared query language which is available when searching for data with the online search interface.</p>

<br><h2><a name="sec1">1</a>&nbsp;&nbsp;&nbsp;&nbsp;Introduction</h2>

<p align="justify">TGrep (Pito 1994) was the original tree-matching command-line program that came with the Penn Treebank. TGrep2 (Rohde 2005) is an implementation that adds extensions to the query language. Tregex (Levy and Andrew 2006) is yet another implementation that replicates the extended search functionality of TGrep2 while also offering a desktop application for directly browsing source trees, and even manipulating syntax trees in traditional bracketed (Penn) treebank notation. This guide provides an introduction to the extended query language which is shared by both TGrep2 and Tregex and which is available when searching for data with the online search interface.</p>

<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;Search queries are expressed as patterns that consist of node descriptions to match nodes and relationships defining links or negated links to other nodes. Notably:</p>

<ul>

<li>Nodes of searched trees are matched by node descriptions, which are either simple character strings, or OR'd character strings, or regular expressions (see section <a href="#sec2">2</a>).</li>

<li>Relationships combine node descriptions (see section <a href="#sec3">3</a>).</li>

<li>Search patterns also allow Boolean expressions of relationships to form complex relationships (see section <a href="#sec4">4</a>).</li>

<li>Nodes can be assigned labels and may be referred to elsewhere in the pattern by those labels (see section <a href="#sec5">5</a>).</li>

<li>Patterns can be broken into multiple segments (see section <a href="#sec6">6</a>).</li>

</ul>

<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;Typically, spaces are optional in patterns. But for readability, it is usually best to place spaces between relationships and node expressions.</p>

<br><h2><a name="sec2">2</a>&nbsp;&nbsp;&nbsp;&nbsp;Node descriptions</h2>

<p align="justify">Single tree nodes are matched by node descriptions:</p>

<ul>

<li>A wildcard, specified by two underscores (<tt>__</tt>), matches any node.</li>

<li>A simple character string, such as <tt>P-CONN</tt>, <tt>VB</tt>, <tt>そのような</tt>, etc., matches if it is the full content of the matched node.</li>

<li>A pattern can be built from simple character strings separated by pipes (<tt>|</tt>) with no spaces. Such a pattern can match a node if any of its components match the node's full content. For example, <tt>VB|VB0</tt> can match <tt>VB</tt> or <tt>VB0</tt> nodes.</li>

<li>A regular expression, indicated by surrounding slashes (<tt>&sol;</tt>), such as <tt>&sol;^NP&#92;b&sol;</tt>, can be used as a description to match nodes which possibly differ in their full content.</li>

</ul>

<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;If a simple character string or a regular expression begins with an exclamation mark (<tt>!</tt>), the matching process will be complemented. That is, matches will turn into non-matches, and vice-versa. For example, <tt>!VB</tt> can match any node that is not <tt>VB</tt>, and <tt>!&sol;^I&sol;</tt> can match any node that does not start with <tt>I</tt>.</p>

<br><h3><a name="sec2.1">2.1</a>&nbsp;&nbsp;&nbsp;&nbsp;Tips for using node descriptions that are regular expressions</h3>

<p align="justify">Specified as a string with surrounding slashes (<tt>&sol;</tt>), a regular expression matches a node if there is a part of the node that is matched. For example, (<a href="#ex1">1</a>) matches よう, ようやく, そのような, おはよう, etc.</p>

<dl><dt>(<a name="ex1">1</a>)</dt><dd>
<tt>&sol;よう&sol;</tt><br>
</dd></dl>

<p align="justify">The caret symbol (<tt>^</tt>) anchors the regular expression to the beginning of a matched node. So, (<a href="#ex2">2</a>) cannot match そのような or おはよう but can match よう and ようやく.</p>

<dl><dt>(<a name="ex2">2</a>)</dt><dd>
<tt>&sol;^よう&sol;</tt><br>
</dd></dl>

<p align="justify">A dollar sign (<tt>&dollar;</tt>) as the last character will anchor the regular expression to the end of a matched node. For example, the caret and dollar-sign in (<a href="#ex3">3</a>) restricts matching to あの, この and その.</p>

<dl><dt>(<a name="ex3">3</a>)</dt><dd>
<tt>&sol;^(あ|こ|そ)の$&sol;</tt><br>
</dd></dl>

<p align="justify">Note how (<a href="#ex3">3</a>) contains round brackets (<tt>(</tt>, <tt>)</tt>) which are used to mark a subexpression called a block or capturing group. Within a capturing group the pipe symbol (<tt>|</tt>) can be used to separate subexpressions with the meaning to match at least one of the subexpressions.</p>

<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;Note, care is needed when writing regular expressions that end with dollar signs. This is because you are forced to predict what the end content of a node could be. For example, suppose you wished for a node description that would match all bare noun phrases, that is, all noun phrase nodes that lack functional extensions. In addition to matching nodes that are simply <tt>NP</tt>, you will also want to match nodes like <tt>NP;{BOY}</tt>. However, you will not want to match either <tt>NP-SBJ</tt> or <tt>NP-SBJ;{BOY}</tt>, since these have subject (<tt>-SBJ</tt>) functional marking. A regular expression able to match all bare noun phrases is (<a href="#ex4">4</a>).</p>

<dl><dt>(<a name="ex4">4</a>)</dt><dd>
<tt>&sol;^NP(;.+)?$&sol;</tt><br>
</dd></dl>

<p align="justify">Note how (<a href="#ex4">4</a>) contains a capturing group that ends with a question mark symbol (<tt>?</tt>) saying to match its preceding element (the capturing group) one or zero times. Also note how the capturing group contains a dot symbol (<tt>.</tt>) that is a character wildcard to match any character and a plus symbol (<tt>+</tt>) saying to match its preceding element (any character) one or more times. In contrast, the semi-colon character (<tt>;</tt>) will only match itself.</p>

<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;A regular expression can also be constrained with &lsquo;<tt>&#92;b</tt>&rsquo; to mark a word boundary. Thus, (<a href="#ex5">5</a>) can match <tt>NP</tt> and <tt>NP-PRD</tt> but will not match <tt>NPR</tt>.</p>

<dl><dt>(<a name="ex5">5</a>)</dt><dd>
<tt>&sol;^NP&#92;b&sol;</tt><br>
</dd></dl>

<p align="justify">Word boundary markers are typically used to constrain matching nodes at the constituent level of structure (e.g., <tt>&sol;^NP&#92;b&sol;</tt>, <tt>&sol;^ADVP&#92;b&sol;</tt>, <tt>&sol;^IP-MAT&#92;b&sol;</tt>) and this is generally a good policy to follow. However, we do need <tt>/^IP-ADV/</tt> with no word boundary marker to match both <tt>IP-ADV</tt> and <tt>IP-ADV2</tt> nodes. Similarly, we need <tt>/^IP-EMB/</tt> with no word boundary marker to match both <tt>IP-EMB</tt> and <tt>IP-EMB2</tt> nodes.</p>

<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;Regular expressions are case sensitive and so (<a href="#ex5">5</a>) and (<a href="#ex6">6</a>) match different nodes.</p>

<dl><dt>(<a name="ex6">6</a>)</dt><dd>
<tt>&sol;^np&#92;b&sol;</tt><br>
</dd></dl>

<br><h2><a name="sec3">3</a>&nbsp;&nbsp;&nbsp;&nbsp;Relationships between nodes</h2>

<p align="justify">Relationships define connections between nodes matched by node descriptions. There is a complete pairing of relationships with counterparts, allowing for flexibility when constructing complex relationships (see section <a href="#sec4">4</a>). Notable relationships can be pictured as in Figure <a href="#figure1">1</a>.</p>

<p><a name="fig1">Figure 1: Notable relationships between nodes</a></p>

<img src="notable.png" alt="Notable relationships between nodes" height="550">

<p align="justify">The relationships pictured in Figure <a href="#figure1">1</a> are described in (<a href="#ex7">7</a>), where <tt>A</tt>, <tt>A'</tt> and <tt>B</tt> are node descriptions.</p>

<dl><dt>(<a name="ex7">7</a>)</dt><dd>
<tt>A&nbsp;&gt;&gt;&nbsp;B&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;is&nbsp;dominated&nbsp;by&nbsp;(is&nbsp;a&nbsp;descendant&nbsp;of)&nbsp;B</tt><br>
<tt>A&nbsp;,,&nbsp;B&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;follows&nbsp;B</tt><br>
<tt>A&nbsp;,&nbsp;B&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;immediately&nbsp;follows&nbsp;B</tt><br>
<tt>A&nbsp;&gt;&nbsp;B&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;is&nbsp;immediately&nbsp;dominated&nbsp;by&nbsp;(is&nbsp;the&nbsp;child&nbsp;of)&nbsp;B</tt><br>
<tt>A&nbsp;.&nbsp;B&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;immediately&nbsp;precedes&nbsp;B</tt><br>
<tt>A&nbsp;..&nbsp;B&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;precedes&nbsp;B</tt><br>
<tt>A&nbsp;$,,&nbsp;B&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;is&nbsp;a&nbsp;sister&nbsp;of&nbsp;and&nbsp;follows&nbsp;B</tt><br>
<tt>A&nbsp;$,&nbsp;B&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;is&nbsp;a&nbsp;sister&nbsp;of&nbsp;and&nbsp;immediately&nbsp;follows&nbsp;B</tt><br>
<tt>A&nbsp;==&nbsp;A'&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;and&nbsp;A'&nbsp;match&nbsp;the&nbsp;same&nbsp;node</tt><br>
<tt>A&nbsp;$&nbsp;B&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;is&nbsp;a&nbsp;sister&nbsp;of&nbsp;and&nbsp;not&nbsp;equal&nbsp;to&nbsp;B</tt><br>
<tt>A&nbsp;$.&nbsp;B&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;is&nbsp;a&nbsp;sister&nbsp;of&nbsp;and&nbsp;immediately&nbsp;precedes&nbsp;B</tt><br>
<tt>A&nbsp;$..&nbsp;B&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;is&nbsp;a&nbsp;sister&nbsp;of&nbsp;and&nbsp;precedes&nbsp;B</tt><br>
<tt>A&nbsp;&lt;i&nbsp;B&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;B&nbsp;is&nbsp;the&nbsp;ith&nbsp;child&nbsp;of&nbsp;A&nbsp;(i&nbsp;&gt;&nbsp;0);&nbsp;also&nbsp;expressed&nbsp;as&nbsp;B&nbsp;&gt;i&nbsp;A</tt><br>
<tt>A&nbsp;&lt;-i&nbsp;B&nbsp;&nbsp;&nbsp;&nbsp;B&nbsp;is&nbsp;the&nbsp;ith-to-last&nbsp;child&nbsp;of&nbsp;A&nbsp;(i&nbsp;&gt;&nbsp;0);&nbsp;also&nbsp;expressed&nbsp;as&nbsp;A&nbsp;&gt;-i&nbsp;B</tt><br>
<tt>A&nbsp;&lt;&nbsp;B&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;immediately&nbsp;dominates&nbsp;(is&nbsp;the&nbsp;parent&nbsp;of)&nbsp;B</tt><br>
<tt>A&nbsp;&lt;&lt;&nbsp;B&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;dominates&nbsp;(is&nbsp;an&nbsp;ancestor&nbsp;of)&nbsp;B</tt><br>
</dd></dl>

<p align="justify">Any relationship can be negated by immediately preceding it with an exclamation mark (<tt>!</tt>).</p>

<br><h3><a name="sec3.1">3.1</a>&nbsp;&nbsp;&nbsp;&nbsp;The immediately-dominates relation</h3>

<p align="justify">As a demonstration of the immediately dominates relation, the wildcard node descriptions (<tt>__</tt>) in (<a href="#ex8">8</a>) are constrained to match any node that happens to be immediately dominated by a node labelled <tt>C</tt>.</p>

<dl><dt>(<a name="ex8">8</a>)</dt><dd>
<tt>C&nbsp;&lt;&nbsp;__&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(immediately&nbsp;dominates&nbsp;&sol;&nbsp;is&nbsp;the&nbsp;parent&nbsp;of)</tt><br>
<tt>__&nbsp;&gt;&nbsp;C&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(is&nbsp;immediately&nbsp;dominated&nbsp;by&nbsp;&sol;&nbsp;is&nbsp;the&nbsp;child&nbsp;of)</tt><br>
</dd></dl>

<p align="justify">As examples of search matching, the wildcards of (<a href="#ex8">8</a>) can match any of the marked nodes in (<a href="#ex9">9</a>) (one match for each search hit) that are not <tt>C</tt>, both of which are situated immediately below <tt>C</tt>, but not any lower.</p>

<dl><dt>(<a name="ex9">9</a>)</dt><dd>
<svg xmlns:svg="http://www.w3.org/2000/svg" xmlns:exslt="http://exslt.org/common" width="550" height="330" viewBox="-5.50 -1.650 660.0 396.0">
<text x="275" y="45" text-anchor="middle">A</text>
<text x="165" y="100" text-anchor="middle">B</text>
<rect x="95" y="135" width="30" height="30" rx="10" ry="10" style="fill: none; stroke: SandyBrown; stroke-width: 10;"/>
<text x="110" y="155" text-anchor="middle">C</text>
<rect x="67.5" y="190" width="30" height="30" rx="10" ry="10" style="fill: none; stroke: MediumSpringGreen; stroke-width: 10;"/>
<text x="82.5" y="210" text-anchor="middle">D</text>
<text x="27.5" y="265" text-anchor="middle">E</text>
<text x="27.5" y="320" text-anchor="middle">w0</text>
<line x1="27.5" y1="275" x2="27.5" y2="300" style="stroke:#000000;stroke-width:2;"/>
<line x1="82.5" y1="220" x2="27.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<text x="82.5" y="265" text-anchor="middle">F</text>
<text x="82.5" y="320" text-anchor="middle">w1</text>
<line x1="82.5" y1="275" x2="82.5" y2="300" style="stroke:#000000;stroke-width:2;"/>
<line x1="82.5" y1="220" x2="82.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<text x="137.5" y="265" text-anchor="middle">G</text>
<text x="137.5" y="320" text-anchor="middle">w2</text>
<line x1="137.5" y1="275" x2="137.5" y2="300" style="stroke:#000000;stroke-width:2;"/>
<line x1="82.5" y1="220" x2="137.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<line x1="110" y1="165" x2="82.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<rect x="177.5" y="190" width="30" height="30" rx="10" ry="10" style="fill: none; stroke: MediumSpringGreen; stroke-width: 10;"/>
<text x="192.5" y="210" text-anchor="middle">H</text>
<text x="192.5" y="265" text-anchor="middle">w3</text>
<line x1="192.5" y1="220" x2="192.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<line x1="110" y1="165" x2="192.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<line x1="165" y1="110" x2="110" y2="135" style="stroke:#000000;stroke-width:2;"/>
<text x="275" y="155" text-anchor="middle">I</text>
<text x="247.5" y="210" text-anchor="middle">J</text>
<text x="247.5" y="265" text-anchor="middle">w4</text>
<line x1="247.5" y1="220" x2="247.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<line x1="275" y1="165" x2="247.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<text x="302.5" y="210" text-anchor="middle">K</text>
<text x="302.5" y="265" text-anchor="middle">L</text>
<text x="302.5" y="320" text-anchor="middle">w5</text>
<line x1="302.5" y1="275" x2="302.5" y2="300" style="stroke:#000000;stroke-width:2;"/>
<line x1="302.5" y1="220" x2="302.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<line x1="275" y1="165" x2="302.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<line x1="165" y1="110" x2="275" y2="135" style="stroke:#000000;stroke-width:2;"/>
<line x1="275" y1="55" x2="165" y2="80" style="stroke:#000000;stroke-width:2;"/>
<text x="412.5" y="100" text-anchor="middle">M</text>
<text x="357.5" y="155" text-anchor="middle">N</text>
<text x="357.5" y="210" text-anchor="middle">w6</text>
<line x1="357.5" y1="165" x2="357.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<line x1="412.5" y1="110" x2="357.5" y2="135" style="stroke:#000000;stroke-width:2;"/>
<text x="440" y="155" text-anchor="middle">O</text>
<text x="412.5" y="210" text-anchor="middle">P</text>
<text x="412.5" y="265" text-anchor="middle">w7</text>
<line x1="412.5" y1="220" x2="412.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<line x1="440" y1="165" x2="412.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<text x="467.5" y="210" text-anchor="middle">Q</text>
<text x="467.5" y="265" text-anchor="middle">R</text>
<text x="467.5" y="320" text-anchor="middle">w8</text>
<line x1="467.5" y1="275" x2="467.5" y2="300" style="stroke:#000000;stroke-width:2;"/>
<line x1="467.5" y1="220" x2="467.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<line x1="440" y1="165" x2="467.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<line x1="412.5" y1="110" x2="440" y2="135" style="stroke:#000000;stroke-width:2;"/>
<line x1="275" y1="55" x2="412.5" y2="80" style="stroke:#000000;stroke-width:2;"/>
<text x="522.5" y="100" text-anchor="middle">S</text>
<text x="522.5" y="155" text-anchor="middle">w9</text>
<line x1="522.5" y1="110" x2="522.5" y2="135" style="stroke:#000000;stroke-width:2;"/>
<line x1="275" y1="55" x2="522.5" y2="80" style="stroke:#000000;stroke-width:2;"/>
</svg>
</dd></dl>

<br><h3><a name="sec3.2">3.2</a>&nbsp;&nbsp;&nbsp;&nbsp;The dominates relation</h3>

<p align="justify">As a demonstration of the dominates relation, the wildcard node descriptions (<tt>__</tt>) in (<a href="#ex10">10</a>) are constrained to match any of the nodes that happen to be dominated by a node labelled <tt>C</tt>.</p>

<dl><dt>(<a name="ex10">10</a>)</dt><dd>
<tt>C&nbsp;&lt;&lt;&nbsp;__&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(dominates&nbsp;&sol;&nbsp;is&nbsp;an&nbsp;ancestor&nbsp;of)</tt><br>
<tt>__&nbsp;&gt;&gt;&nbsp;C&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(is&nbsp;dominated&nbsp;by&nbsp;&sol;&nbsp;is&nbsp;a&nbsp;descendant&nbsp;of)</tt><br>
</dd></dl>

<p align="justify">As examples of search matching, the wildcards of (<a href="#ex10">10</a>) can match any of the marked nodes in (<a href="#ex11">11</a>) (one match for each search hit) that are not <tt>C</tt>, all of which are situated below <tt>C</tt>.</p>

<dl><dt>(<a name="ex11">11</a>)</dt><dd>
<svg xmlns:svg="http://www.w3.org/2000/svg" xmlns:exslt="http://exslt.org/common" width="550" height="330" viewBox="-5.50 -1.650 660.0 396.0">
<text x="275" y="45" text-anchor="middle">A</text>
<text x="165" y="100" text-anchor="middle">B</text>
<rect x="95" y="135" width="30" height="30" rx="10" ry="10" style="fill: none; stroke: SandyBrown; stroke-width: 10;"/>
<text x="110" y="155" text-anchor="middle">C</text>
<rect x="67.5" y="190" width="30" height="30" rx="10" ry="10" style="fill: none; stroke: MediumSpringGreen; stroke-width: 10;"/>
<text x="82.5" y="210" text-anchor="middle">D</text>
<rect x="12.5" y="245" width="30" height="30" rx="10" ry="10" style="fill: none; stroke: MediumSpringGreen; stroke-width: 10;"/>
<text x="27.5" y="265" text-anchor="middle">E</text>
<rect x="12.5" y="300" width="30" height="30" rx="10" ry="10" style="fill: none; stroke: MediumSpringGreen; stroke-width: 10;"/>
<text x="27.5" y="320" text-anchor="middle">w0</text>
<line x1="27.5" y1="275" x2="27.5" y2="300" style="stroke:#000000;stroke-width:2;"/>
<line x1="82.5" y1="220" x2="27.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<rect x="67.5" y="245" width="30" height="30" rx="10" ry="10" style="fill: none; stroke: MediumSpringGreen; stroke-width: 10;"/>
<text x="82.5" y="265" text-anchor="middle">F</text>
<rect x="67.5" y="300" width="30" height="30" rx="10" ry="10" style="fill: none; stroke: MediumSpringGreen; stroke-width: 10;"/>
<text x="82.5" y="320" text-anchor="middle">w1</text>
<line x1="82.5" y1="275" x2="82.5" y2="300" style="stroke:#000000;stroke-width:2;"/>
<line x1="82.5" y1="220" x2="82.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<rect x="122.5" y="245" width="30" height="30" rx="10" ry="10" style="fill: none; stroke: MediumSpringGreen; stroke-width: 10;"/>
<text x="137.5" y="265" text-anchor="middle">G</text>
<rect x="122.5" y="300" width="30" height="30" rx="10" ry="10" style="fill: none; stroke: MediumSpringGreen; stroke-width: 10;"/>
<text x="137.5" y="320" text-anchor="middle">w2</text>
<line x1="137.5" y1="275" x2="137.5" y2="300" style="stroke:#000000;stroke-width:2;"/>
<line x1="82.5" y1="220" x2="137.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<line x1="110" y1="165" x2="82.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<rect x="177.5" y="190" width="30" height="30" rx="10" ry="10" style="fill: none; stroke: MediumSpringGreen; stroke-width: 10;"/>
<text x="192.5" y="210" text-anchor="middle">H</text>
<rect x="177.5" y="245" width="30" height="30" rx="10" ry="10" style="fill: none; stroke: MediumSpringGreen; stroke-width: 10;"/>
<text x="192.5" y="265" text-anchor="middle">w3</text>
<line x1="192.5" y1="220" x2="192.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<line x1="110" y1="165" x2="192.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<line x1="165" y1="110" x2="110" y2="135" style="stroke:#000000;stroke-width:2;"/>
<text x="275" y="155" text-anchor="middle">I</text>
<text x="247.5" y="210" text-anchor="middle">J</text>
<text x="247.5" y="265" text-anchor="middle">w4</text>
<line x1="247.5" y1="220" x2="247.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<line x1="275" y1="165" x2="247.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<text x="302.5" y="210" text-anchor="middle">K</text>
<text x="302.5" y="265" text-anchor="middle">L</text>
<text x="302.5" y="320" text-anchor="middle">w5</text>
<line x1="302.5" y1="275" x2="302.5" y2="300" style="stroke:#000000;stroke-width:2;"/>
<line x1="302.5" y1="220" x2="302.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<line x1="275" y1="165" x2="302.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<line x1="165" y1="110" x2="275" y2="135" style="stroke:#000000;stroke-width:2;"/>
<line x1="275" y1="55" x2="165" y2="80" style="stroke:#000000;stroke-width:2;"/>
<text x="412.5" y="100" text-anchor="middle">M</text>
<text x="357.5" y="155" text-anchor="middle">N</text>
<text x="357.5" y="210" text-anchor="middle">w6</text>
<line x1="357.5" y1="165" x2="357.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<line x1="412.5" y1="110" x2="357.5" y2="135" style="stroke:#000000;stroke-width:2;"/>
<text x="440" y="155" text-anchor="middle">O</text>
<text x="412.5" y="210" text-anchor="middle">P</text>
<text x="412.5" y="265" text-anchor="middle">w7</text>
<line x1="412.5" y1="220" x2="412.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<line x1="440" y1="165" x2="412.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<text x="467.5" y="210" text-anchor="middle">Q</text>
<text x="467.5" y="265" text-anchor="middle">R</text>
<text x="467.5" y="320" text-anchor="middle">w8</text>
<line x1="467.5" y1="275" x2="467.5" y2="300" style="stroke:#000000;stroke-width:2;"/>
<line x1="467.5" y1="220" x2="467.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<line x1="440" y1="165" x2="467.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<line x1="412.5" y1="110" x2="440" y2="135" style="stroke:#000000;stroke-width:2;"/>
<line x1="275" y1="55" x2="412.5" y2="80" style="stroke:#000000;stroke-width:2;"/>
<text x="522.5" y="100" text-anchor="middle">S</text>
<text x="522.5" y="155" text-anchor="middle">w9</text>
<line x1="522.5" y1="110" x2="522.5" y2="135" style="stroke:#000000;stroke-width:2;"/>
<line x1="275" y1="55" x2="522.5" y2="80" style="stroke:#000000;stroke-width:2;"/>
</svg>
</dd></dl>

<br><h3><a name="sec3.3">3.3</a>&nbsp;&nbsp;&nbsp;&nbsp;The is-dominated-by relation</h3>

<p align="justify">As a demonstration of the is-dominated-by relation, the wildcard node descriptions (<tt>__</tt>) in (<a href="#ex12">12</a>) are constrained to match any node that happens to dominate a node labelled <tt>E</tt>.</p>

<dl><dt>(<a name="ex12">12</a>)</dt><dd>
<tt>E&nbsp;&gt;&gt;&nbsp;__&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(is&nbsp;dominated&nbsp;by&nbsp;&sol;&nbsp;is&nbsp;a&nbsp;descendant&nbsp;of)</tt><br>
<tt>__&nbsp;&lt;&lt;&nbsp;E&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(dominates&nbsp;&sol;&nbsp;is&nbsp;an&nbsp;ancestor&nbsp;of)</tt><br>
</dd></dl>

<p align="justify">As examples of search matching, the wildcards of (<a href="#ex12">12</a>) can match any of the marked nodes in (<a href="#ex13">13</a>) (one match for each search hit) that are not <tt>E</tt>, all of which are situated above <tt>E</tt>.</p>

<dl><dt>(<a name="ex13">13</a>)</dt><dd>
<svg xmlns:svg="http://www.w3.org/2000/svg" xmlns:exslt="http://exslt.org/common" width="550" height="330" viewBox="-5.50 -1.650 660.0 396.0">
<rect x="260" y="25" width="30" height="30" rx="10" ry="10" style="fill: none; stroke: MediumSpringGreen; stroke-width: 10;"/>
<text x="275" y="45" text-anchor="middle">A</text>
<rect x="150" y="80" width="30" height="30" rx="10" ry="10" style="fill: none; stroke: MediumSpringGreen; stroke-width: 10;"/>
<text x="165" y="100" text-anchor="middle">B</text>
<rect x="95" y="135" width="30" height="30" rx="10" ry="10" style="fill: none; stroke: MediumSpringGreen; stroke-width: 10;"/>
<text x="110" y="155" text-anchor="middle">C</text>
<rect x="67.5" y="190" width="30" height="30" rx="10" ry="10" style="fill: none; stroke: MediumSpringGreen; stroke-width: 10;"/>
<text x="82.5" y="210" text-anchor="middle">D</text>
<rect x="12.5" y="245" width="30" height="30" rx="10" ry="10" style="fill: none; stroke: SandyBrown; stroke-width: 10;"/>
<text x="27.5" y="265" text-anchor="middle">E</text>
<text x="27.5" y="320" text-anchor="middle">w0</text>
<line x1="27.5" y1="275" x2="27.5" y2="300" style="stroke:#000000;stroke-width:2;"/>
<line x1="82.5" y1="220" x2="27.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<text x="82.5" y="265" text-anchor="middle">F</text>
<text x="82.5" y="320" text-anchor="middle">w1</text>
<line x1="82.5" y1="275" x2="82.5" y2="300" style="stroke:#000000;stroke-width:2;"/>
<line x1="82.5" y1="220" x2="82.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<text x="137.5" y="265" text-anchor="middle">G</text>
<text x="137.5" y="320" text-anchor="middle">w2</text>
<line x1="137.5" y1="275" x2="137.5" y2="300" style="stroke:#000000;stroke-width:2;"/>
<line x1="82.5" y1="220" x2="137.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<line x1="110" y1="165" x2="82.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<text x="192.5" y="210" text-anchor="middle">H</text>
<text x="192.5" y="265" text-anchor="middle">w3</text>
<line x1="192.5" y1="220" x2="192.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<line x1="110" y1="165" x2="192.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<line x1="165" y1="110" x2="110" y2="135" style="stroke:#000000;stroke-width:2;"/>
<text x="275" y="155" text-anchor="middle">I</text>
<text x="247.5" y="210" text-anchor="middle">J</text>
<text x="247.5" y="265" text-anchor="middle">w4</text>
<line x1="247.5" y1="220" x2="247.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<line x1="275" y1="165" x2="247.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<text x="302.5" y="210" text-anchor="middle">K</text>
<text x="302.5" y="265" text-anchor="middle">L</text>
<text x="302.5" y="320" text-anchor="middle">w5</text>
<line x1="302.5" y1="275" x2="302.5" y2="300" style="stroke:#000000;stroke-width:2;"/>
<line x1="302.5" y1="220" x2="302.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<line x1="275" y1="165" x2="302.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<line x1="165" y1="110" x2="275" y2="135" style="stroke:#000000;stroke-width:2;"/>
<line x1="275" y1="55" x2="165" y2="80" style="stroke:#000000;stroke-width:2;"/>
<text x="412.5" y="100" text-anchor="middle">M</text>
<text x="357.5" y="155" text-anchor="middle">N</text>
<text x="357.5" y="210" text-anchor="middle">w6</text>
<line x1="357.5" y1="165" x2="357.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<line x1="412.5" y1="110" x2="357.5" y2="135" style="stroke:#000000;stroke-width:2;"/>
<text x="440" y="155" text-anchor="middle">O</text>
<text x="412.5" y="210" text-anchor="middle">P</text>
<text x="412.5" y="265" text-anchor="middle">w7</text>
<line x1="412.5" y1="220" x2="412.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<line x1="440" y1="165" x2="412.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<text x="467.5" y="210" text-anchor="middle">Q</text>
<text x="467.5" y="265" text-anchor="middle">R</text>
<text x="467.5" y="320" text-anchor="middle">w8</text>
<line x1="467.5" y1="275" x2="467.5" y2="300" style="stroke:#000000;stroke-width:2;"/>
<line x1="467.5" y1="220" x2="467.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<line x1="440" y1="165" x2="467.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<line x1="412.5" y1="110" x2="440" y2="135" style="stroke:#000000;stroke-width:2;"/>
<line x1="275" y1="55" x2="412.5" y2="80" style="stroke:#000000;stroke-width:2;"/>
<text x="522.5" y="100" text-anchor="middle">S</text>
<text x="522.5" y="155" text-anchor="middle">w9</text>
<line x1="522.5" y1="110" x2="522.5" y2="135" style="stroke:#000000;stroke-width:2;"/>
<line x1="275" y1="55" x2="522.5" y2="80" style="stroke:#000000;stroke-width:2;"/>
</svg>
</dd></dl>

<br><h3><a name="sec3.4">3.4</a>&nbsp;&nbsp;&nbsp;&nbsp;The precedes relation</h3>

<p align="justify">As a demonstration of the precedes relation, the wildcard node descriptions (<tt>__</tt>) in (<a href="#ex14">14</a>) are constrained to match any node that happens to be preceded by a node labelled <tt>I</tt>.</p>

<dl><dt>(<a name="ex14">14</a>)</dt><dd>
<tt>I&nbsp;..&nbsp;__&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(precedes)</tt><br>
<tt>__&nbsp;,,&nbsp;I&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(follows)</tt><br>
</dd></dl>

<p align="justify">As examples of search matching, the wildcards of (<a href="#ex14">14</a>) can match any of the marked nodes in (<a href="#ex15">15</a>) (one match for each search hit) that are not <tt>I</tt>, all of which occur after <tt>I</tt>.</p>

<dl><dt>(<a name="ex15">15</a>)</dt><dd>
<svg xmlns:svg="http://www.w3.org/2000/svg" xmlns:exslt="http://exslt.org/common" width="550" height="330" viewBox="-5.50 -1.650 660.0 396.0">
<text x="275" y="45" text-anchor="middle">A</text>
<text x="165" y="100" text-anchor="middle">B</text>
<text x="110" y="155" text-anchor="middle">C</text>
<text x="82.5" y="210" text-anchor="middle">D</text>
<text x="27.5" y="265" text-anchor="middle">E</text>
<text x="27.5" y="320" text-anchor="middle">w0</text>
<line x1="27.5" y1="275" x2="27.5" y2="300" style="stroke:#000000;stroke-width:2;"/>
<line x1="82.5" y1="220" x2="27.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<text x="82.5" y="265" text-anchor="middle">F</text>
<text x="82.5" y="320" text-anchor="middle">w1</text>
<line x1="82.5" y1="275" x2="82.5" y2="300" style="stroke:#000000;stroke-width:2;"/>
<line x1="82.5" y1="220" x2="82.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<text x="137.5" y="265" text-anchor="middle">G</text>
<text x="137.5" y="320" text-anchor="middle">w2</text>
<line x1="137.5" y1="275" x2="137.5" y2="300" style="stroke:#000000;stroke-width:2;"/>
<line x1="82.5" y1="220" x2="137.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<line x1="110" y1="165" x2="82.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<text x="192.5" y="210" text-anchor="middle">H</text>
<text x="192.5" y="265" text-anchor="middle">w3</text>
<line x1="192.5" y1="220" x2="192.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<line x1="110" y1="165" x2="192.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<line x1="165" y1="110" x2="110" y2="135" style="stroke:#000000;stroke-width:2;"/>
<rect x="260" y="135" width="30" height="30" rx="10" ry="10" style="fill: none; stroke: SandyBrown; stroke-width: 10;"/>
<text x="275" y="155" text-anchor="middle">I</text>
<text x="247.5" y="210" text-anchor="middle">J</text>
<text x="247.5" y="265" text-anchor="middle">w4</text>
<line x1="247.5" y1="220" x2="247.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<line x1="275" y1="165" x2="247.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<text x="302.5" y="210" text-anchor="middle">K</text>
<text x="302.5" y="265" text-anchor="middle">L</text>
<text x="302.5" y="320" text-anchor="middle">w5</text>
<line x1="302.5" y1="275" x2="302.5" y2="300" style="stroke:#000000;stroke-width:2;"/>
<line x1="302.5" y1="220" x2="302.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<line x1="275" y1="165" x2="302.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<line x1="165" y1="110" x2="275" y2="135" style="stroke:#000000;stroke-width:2;"/>
<line x1="275" y1="55" x2="165" y2="80" style="stroke:#000000;stroke-width:2;"/>
<rect x="397.5" y="80" width="30" height="30" rx="10" ry="10" style="fill: none; stroke: MediumSpringGreen; stroke-width: 10;"/>
<text x="412.5" y="100" text-anchor="middle">M</text>
<rect x="342.5" y="135" width="30" height="30" rx="10" ry="10" style="fill: none; stroke: MediumSpringGreen; stroke-width: 10;"/>
<text x="357.5" y="155" text-anchor="middle">N</text>
<rect x="342.5" y="190" width="30" height="30" rx="10" ry="10" style="fill: none; stroke: MediumSpringGreen; stroke-width: 10;"/>
<text x="357.5" y="210" text-anchor="middle">w6</text>
<line x1="357.5" y1="165" x2="357.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<line x1="412.5" y1="110" x2="357.5" y2="135" style="stroke:#000000;stroke-width:2;"/>
<rect x="425" y="135" width="30" height="30" rx="10" ry="10" style="fill: none; stroke: MediumSpringGreen; stroke-width: 10;"/>
<text x="440" y="155" text-anchor="middle">O</text>
<rect x="397.5" y="190" width="30" height="30" rx="10" ry="10" style="fill: none; stroke: MediumSpringGreen; stroke-width: 10;"/>
<text x="412.5" y="210" text-anchor="middle">P</text>
<rect x="397.5" y="245" width="30" height="30" rx="10" ry="10" style="fill: none; stroke: MediumSpringGreen; stroke-width: 10;"/>
<text x="412.5" y="265" text-anchor="middle">w7</text>
<line x1="412.5" y1="220" x2="412.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<line x1="440" y1="165" x2="412.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<rect x="452.5" y="190" width="30" height="30" rx="10" ry="10" style="fill: none; stroke: MediumSpringGreen; stroke-width: 10;"/>
<text x="467.5" y="210" text-anchor="middle">Q</text>
<rect x="452.5" y="245" width="30" height="30" rx="10" ry="10" style="fill: none; stroke: MediumSpringGreen; stroke-width: 10;"/>
<text x="467.5" y="265" text-anchor="middle">R</text>
<rect x="452.5" y="300" width="30" height="30" rx="10" ry="10" style="fill: none; stroke: MediumSpringGreen; stroke-width: 10;"/>
<text x="467.5" y="320" text-anchor="middle">w8</text>
<line x1="467.5" y1="275" x2="467.5" y2="300" style="stroke:#000000;stroke-width:2;"/>
<line x1="467.5" y1="220" x2="467.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<line x1="440" y1="165" x2="467.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<line x1="412.5" y1="110" x2="440" y2="135" style="stroke:#000000;stroke-width:2;"/>
<line x1="275" y1="55" x2="412.5" y2="80" style="stroke:#000000;stroke-width:2;"/>
<rect x="507.5" y="80" width="30" height="30" rx="10" ry="10" style="fill: none; stroke: MediumSpringGreen; stroke-width: 10;"/>
<text x="522.5" y="100" text-anchor="middle">S</text>
<rect x="507.5" y="135" width="30" height="30" rx="10" ry="10" style="fill: none; stroke: MediumSpringGreen; stroke-width: 10;"/>
<text x="522.5" y="155" text-anchor="middle">w9</text>
<line x1="522.5" y1="110" x2="522.5" y2="135" style="stroke:#000000;stroke-width:2;"/>
<line x1="275" y1="55" x2="522.5" y2="80" style="stroke:#000000;stroke-width:2;"/>
</svg>
</dd></dl>

<br><h3><a name="sec3.5">3.5</a>&nbsp;&nbsp;&nbsp;&nbsp;The follows relation</h3>

<p align="justify">As a demonstration of the follows relation, the wildcard node descriptions (<tt>__</tt>) in (<a href="#ex16">16</a>) are constrained to match any node that happens to be followed by a node labelled <tt>I</tt>.</p>

<dl><dt>(<a name="ex16">16</a>)</dt><dd>
<tt>I&nbsp;,,&nbsp;__&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(follows)</tt><br>
<tt>__&nbsp;..&nbsp;I&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(precedes)</tt><br>
</dd></dl>

<p align="justify">As examples of search matching, the wildcards of (<a href="#ex16">16</a>) can match any of the marked nodes in (<a href="#ex17">17</a>) (one match for each search hit) that are not <tt>I</tt>, all of which occur before <tt>I</tt>.</p>

<dl><dt>(<a name="ex17">17</a>)</dt><dd>
<svg xmlns:svg="http://www.w3.org/2000/svg" xmlns:exslt="http://exslt.org/common" width="550" height="330" viewBox="-5.50 -1.650 660.0 396.0">
<text x="275" y="45" text-anchor="middle">A</text>
<text x="165" y="100" text-anchor="middle">B</text>
<rect x="95" y="135" width="30" height="30" rx="10" ry="10" style="fill: none; stroke: MediumSpringGreen; stroke-width: 10;"/>
<text x="110" y="155" text-anchor="middle">C</text>
<rect x="67.5" y="190" width="30" height="30" rx="10" ry="10" style="fill: none; stroke: MediumSpringGreen; stroke-width: 10;"/>
<text x="82.5" y="210" text-anchor="middle">D</text>
<rect x="12.5" y="245" width="30" height="30" rx="10" ry="10" style="fill: none; stroke: MediumSpringGreen; stroke-width: 10;"/>
<text x="27.5" y="265" text-anchor="middle">E</text>
<rect x="12.5" y="300" width="30" height="30" rx="10" ry="10" style="fill: none; stroke: MediumSpringGreen; stroke-width: 10;"/>
<text x="27.5" y="320" text-anchor="middle">w0</text>
<line x1="27.5" y1="275" x2="27.5" y2="300" style="stroke:#000000;stroke-width:2;"/>
<line x1="82.5" y1="220" x2="27.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<rect x="67.5" y="245" width="30" height="30" rx="10" ry="10" style="fill: none; stroke: MediumSpringGreen; stroke-width: 10;"/>
<text x="82.5" y="265" text-anchor="middle">F</text>
<rect x="67.5" y="300" width="30" height="30" rx="10" ry="10" style="fill: none; stroke: MediumSpringGreen; stroke-width: 10;"/>
<text x="82.5" y="320" text-anchor="middle">w1</text>
<line x1="82.5" y1="275" x2="82.5" y2="300" style="stroke:#000000;stroke-width:2;"/>
<line x1="82.5" y1="220" x2="82.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<rect x="122.5" y="245" width="30" height="30" rx="10" ry="10" style="fill: none; stroke: MediumSpringGreen; stroke-width: 10;"/>
<text x="137.5" y="265" text-anchor="middle">G</text>
<rect x="122.5" y="300" width="30" height="30" rx="10" ry="10" style="fill: none; stroke: MediumSpringGreen; stroke-width: 10;"/>
<text x="137.5" y="320" text-anchor="middle">w2</text>
<line x1="137.5" y1="275" x2="137.5" y2="300" style="stroke:#000000;stroke-width:2;"/>
<line x1="82.5" y1="220" x2="137.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<line x1="110" y1="165" x2="82.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<rect x="177.5" y="190" width="30" height="30" rx="10" ry="10" style="fill: none; stroke: MediumSpringGreen; stroke-width: 10;"/>
<text x="192.5" y="210" text-anchor="middle">H</text>
<rect x="177.5" y="245" width="30" height="30" rx="10" ry="10" style="fill: none; stroke: MediumSpringGreen; stroke-width: 10;"/>
<text x="192.5" y="265" text-anchor="middle">w3</text>
<line x1="192.5" y1="220" x2="192.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<line x1="110" y1="165" x2="192.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<line x1="165" y1="110" x2="110" y2="135" style="stroke:#000000;stroke-width:2;"/>
<rect x="260" y="135" width="30" height="30" rx="10" ry="10" style="fill: none; stroke: SandyBrown; stroke-width: 10;"/>
<text x="275" y="155" text-anchor="middle">I</text>
<text x="247.5" y="210" text-anchor="middle">J</text>
<text x="247.5" y="265" text-anchor="middle">w4</text>
<line x1="247.5" y1="220" x2="247.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<line x1="275" y1="165" x2="247.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<text x="302.5" y="210" text-anchor="middle">K</text>
<text x="302.5" y="265" text-anchor="middle">L</text>
<text x="302.5" y="320" text-anchor="middle">w5</text>
<line x1="302.5" y1="275" x2="302.5" y2="300" style="stroke:#000000;stroke-width:2;"/>
<line x1="302.5" y1="220" x2="302.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<line x1="275" y1="165" x2="302.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<line x1="165" y1="110" x2="275" y2="135" style="stroke:#000000;stroke-width:2;"/>
<line x1="275" y1="55" x2="165" y2="80" style="stroke:#000000;stroke-width:2;"/>
<text x="412.5" y="100" text-anchor="middle">M</text>
<text x="357.5" y="155" text-anchor="middle">N</text>
<text x="357.5" y="210" text-anchor="middle">w6</text>
<line x1="357.5" y1="165" x2="357.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<line x1="412.5" y1="110" x2="357.5" y2="135" style="stroke:#000000;stroke-width:2;"/>
<text x="440" y="155" text-anchor="middle">O</text>
<text x="412.5" y="210" text-anchor="middle">P</text>
<text x="412.5" y="265" text-anchor="middle">w7</text>
<line x1="412.5" y1="220" x2="412.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<line x1="440" y1="165" x2="412.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<text x="467.5" y="210" text-anchor="middle">Q</text>
<text x="467.5" y="265" text-anchor="middle">R</text>
<text x="467.5" y="320" text-anchor="middle">w8</text>
<line x1="467.5" y1="275" x2="467.5" y2="300" style="stroke:#000000;stroke-width:2;"/>
<line x1="467.5" y1="220" x2="467.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<line x1="440" y1="165" x2="467.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<line x1="412.5" y1="110" x2="440" y2="135" style="stroke:#000000;stroke-width:2;"/>
<line x1="275" y1="55" x2="412.5" y2="80" style="stroke:#000000;stroke-width:2;"/>
<text x="522.5" y="100" text-anchor="middle">S</text>
<text x="522.5" y="155" text-anchor="middle">w9</text>
<line x1="522.5" y1="110" x2="522.5" y2="135" style="stroke:#000000;stroke-width:2;"/>
<line x1="275" y1="55" x2="522.5" y2="80" style="stroke:#000000;stroke-width:2;"/>
</svg>
</dd></dl>

<br><h3><a name="sec3.6">3.6</a>&nbsp;&nbsp;&nbsp;&nbsp;The immediately-precedes relation</h3>

<p align="justify">As a demonstration of the immediately-precedes relation, the wildcard node descriptions (<tt>__</tt>) in (<a href="#ex18">18</a>) are constrained to match any node that happens to be immediately preceded by a node labelled <tt>I</tt>.</p>

<dl><dt>(<a name="ex18">18</a>)</dt><dd>
<tt>I&nbsp;.&nbsp;__&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(immediately&nbsp;precedes)</tt><br>
<tt>__&nbsp;,&nbsp;I&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(immediately&nbsp;follows)</tt><br>
</dd></dl>

<p align="justify">As examples of search matching, the wildcards of (<a href="#ex18">18</a>) can match any of the marked nodes in (<a href="#ex19">19</a>) (one match for each search hit) that are not <tt>I</tt>, all of which occur immediately after <tt>I</tt> and no later.</p>

<dl><dt>(<a name="ex19">19</a>)</dt><dd>
<svg xmlns:svg="http://www.w3.org/2000/svg" xmlns:exslt="http://exslt.org/common" width="550" height="330" viewBox="-5.50 -1.650 660.0 396.0">
<text x="275" y="45" text-anchor="middle">A</text>
<text x="165" y="100" text-anchor="middle">B</text>
<text x="110" y="155" text-anchor="middle">C</text>
<text x="82.5" y="210" text-anchor="middle">D</text>
<text x="27.5" y="265" text-anchor="middle">E</text>
<text x="27.5" y="320" text-anchor="middle">w0</text>
<line x1="27.5" y1="275" x2="27.5" y2="300" style="stroke:#000000;stroke-width:2;"/>
<line x1="82.5" y1="220" x2="27.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<text x="82.5" y="265" text-anchor="middle">F</text>
<text x="82.5" y="320" text-anchor="middle">w1</text>
<line x1="82.5" y1="275" x2="82.5" y2="300" style="stroke:#000000;stroke-width:2;"/>
<line x1="82.5" y1="220" x2="82.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<text x="137.5" y="265" text-anchor="middle">G</text>
<text x="137.5" y="320" text-anchor="middle">w2</text>
<line x1="137.5" y1="275" x2="137.5" y2="300" style="stroke:#000000;stroke-width:2;"/>
<line x1="82.5" y1="220" x2="137.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<line x1="110" y1="165" x2="82.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<text x="192.5" y="210" text-anchor="middle">H</text>
<text x="192.5" y="265" text-anchor="middle">w3</text>
<line x1="192.5" y1="220" x2="192.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<line x1="110" y1="165" x2="192.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<line x1="165" y1="110" x2="110" y2="135" style="stroke:#000000;stroke-width:2;"/>
<rect x="260" y="135" width="30" height="30" rx="10" ry="10" style="fill: none; stroke: SandyBrown; stroke-width: 10;"/>
<text x="275" y="155" text-anchor="middle">I</text>
<text x="247.5" y="210" text-anchor="middle">J</text>
<text x="247.5" y="265" text-anchor="middle">w4</text>
<line x1="247.5" y1="220" x2="247.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<line x1="275" y1="165" x2="247.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<text x="302.5" y="210" text-anchor="middle">K</text>
<text x="302.5" y="265" text-anchor="middle">L</text>
<text x="302.5" y="320" text-anchor="middle">w5</text>
<line x1="302.5" y1="275" x2="302.5" y2="300" style="stroke:#000000;stroke-width:2;"/>
<line x1="302.5" y1="220" x2="302.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<line x1="275" y1="165" x2="302.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<line x1="165" y1="110" x2="275" y2="135" style="stroke:#000000;stroke-width:2;"/>
<line x1="275" y1="55" x2="165" y2="80" style="stroke:#000000;stroke-width:2;"/>
<rect x="397.5" y="80" width="30" height="30" rx="10" ry="10" style="fill: none; stroke: MediumSpringGreen; stroke-width: 10;"/>
<text x="412.5" y="100" text-anchor="middle">M</text>
<rect x="342.5" y="135" width="30" height="30" rx="10" ry="10" style="fill: none; stroke: MediumSpringGreen; stroke-width: 10;"/>
<text x="357.5" y="155" text-anchor="middle">N</text>
<rect x="342.5" y="190" width="30" height="30" rx="10" ry="10" style="fill: none; stroke: MediumSpringGreen; stroke-width: 10;"/>
<text x="357.5" y="210" text-anchor="middle">w6</text>
<line x1="357.5" y1="165" x2="357.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<line x1="412.5" y1="110" x2="357.5" y2="135" style="stroke:#000000;stroke-width:2;"/>
<text x="440" y="155" text-anchor="middle">O</text>
<text x="412.5" y="210" text-anchor="middle">P</text>
<text x="412.5" y="265" text-anchor="middle">w7</text>
<line x1="412.5" y1="220" x2="412.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<line x1="440" y1="165" x2="412.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<text x="467.5" y="210" text-anchor="middle">Q</text>
<text x="467.5" y="265" text-anchor="middle">R</text>
<text x="467.5" y="320" text-anchor="middle">w8</text>
<line x1="467.5" y1="275" x2="467.5" y2="300" style="stroke:#000000;stroke-width:2;"/>
<line x1="467.5" y1="220" x2="467.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<line x1="440" y1="165" x2="467.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<line x1="412.5" y1="110" x2="440" y2="135" style="stroke:#000000;stroke-width:2;"/>
<line x1="275" y1="55" x2="412.5" y2="80" style="stroke:#000000;stroke-width:2;"/>
<text x="522.5" y="100" text-anchor="middle">S</text>
<text x="522.5" y="155" text-anchor="middle">w9</text>
<line x1="522.5" y1="110" x2="522.5" y2="135" style="stroke:#000000;stroke-width:2;"/>
<line x1="275" y1="55" x2="522.5" y2="80" style="stroke:#000000;stroke-width:2;"/>
</svg>
</dd></dl>

<br><h3><a name="sec3.7">3.7</a>&nbsp;&nbsp;&nbsp;&nbsp;The immediately-follows relation</h3>

<p align="justify">As a demonstration of the immediately-follows relation, the wildcard node descriptions (<tt>__</tt>) in (<a href="#ex20">20</a>) are constrained to match any node that happens to be immediately followed by a node labelled <tt>I</tt>.</p>

<dl><dt>(<a name="ex20">20</a>)</dt><dd>
<tt>I&nbsp;,&nbsp;__&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(immediately&nbsp;follows)</tt><br>
<tt>__&nbsp;.&nbsp;I&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(immediately&nbsp;precedes)</tt><br>
</dd></dl>

<p align="justify">As examples of search matching, the wildcards of (<a href="#ex20">20</a>) can match any of the marked nodes in (<a href="#ex21">21</a>) (one match for each search hit) that are not <tt>I</tt>, all of which occur immediately before <tt>I</tt> and no earlier.</p>

<dl><dt>(<a name="ex21">21</a>)</dt><dd>
<svg xmlns:svg="http://www.w3.org/2000/svg" xmlns:exslt="http://exslt.org/common" width="550" height="330" viewBox="-5.50 -1.650 660.0 396.0">
<text x="275" y="45" text-anchor="middle">A</text>
<text x="165" y="100" text-anchor="middle">B</text>
<rect x="95" y="135" width="30" height="30" rx="10" ry="10" style="fill: none; stroke: MediumSpringGreen; stroke-width: 10;"/>
<text x="110" y="155" text-anchor="middle">C</text>
<text x="82.5" y="210" text-anchor="middle">D</text>
<text x="27.5" y="265" text-anchor="middle">E</text>
<text x="27.5" y="320" text-anchor="middle">w0</text>
<line x1="27.5" y1="275" x2="27.5" y2="300" style="stroke:#000000;stroke-width:2;"/>
<line x1="82.5" y1="220" x2="27.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<text x="82.5" y="265" text-anchor="middle">F</text>
<text x="82.5" y="320" text-anchor="middle">w1</text>
<line x1="82.5" y1="275" x2="82.5" y2="300" style="stroke:#000000;stroke-width:2;"/>
<line x1="82.5" y1="220" x2="82.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<text x="137.5" y="265" text-anchor="middle">G</text>
<text x="137.5" y="320" text-anchor="middle">w2</text>
<line x1="137.5" y1="275" x2="137.5" y2="300" style="stroke:#000000;stroke-width:2;"/>
<line x1="82.5" y1="220" x2="137.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<line x1="110" y1="165" x2="82.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<rect x="177.5" y="190" width="30" height="30" rx="10" ry="10" style="fill: none; stroke: MediumSpringGreen; stroke-width: 10;"/>
<text x="192.5" y="210" text-anchor="middle">H</text>
<rect x="177.5" y="245" width="30" height="30" rx="10" ry="10" style="fill: none; stroke: MediumSpringGreen; stroke-width: 10;"/>
<text x="192.5" y="265" text-anchor="middle">w3</text>
<line x1="192.5" y1="220" x2="192.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<line x1="110" y1="165" x2="192.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<line x1="165" y1="110" x2="110" y2="135" style="stroke:#000000;stroke-width:2;"/>
<rect x="260" y="135" width="30" height="30" rx="10" ry="10" style="fill: none; stroke: SandyBrown; stroke-width: 10;"/>
<text x="275" y="155" text-anchor="middle">I</text>
<text x="247.5" y="210" text-anchor="middle">J</text>
<text x="247.5" y="265" text-anchor="middle">w4</text>
<line x1="247.5" y1="220" x2="247.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<line x1="275" y1="165" x2="247.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<text x="302.5" y="210" text-anchor="middle">K</text>
<text x="302.5" y="265" text-anchor="middle">L</text>
<text x="302.5" y="320" text-anchor="middle">w5</text>
<line x1="302.5" y1="275" x2="302.5" y2="300" style="stroke:#000000;stroke-width:2;"/>
<line x1="302.5" y1="220" x2="302.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<line x1="275" y1="165" x2="302.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<line x1="165" y1="110" x2="275" y2="135" style="stroke:#000000;stroke-width:2;"/>
<line x1="275" y1="55" x2="165" y2="80" style="stroke:#000000;stroke-width:2;"/>
<text x="412.5" y="100" text-anchor="middle">M</text>
<text x="357.5" y="155" text-anchor="middle">N</text>
<text x="357.5" y="210" text-anchor="middle">w6</text>
<line x1="357.5" y1="165" x2="357.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<line x1="412.5" y1="110" x2="357.5" y2="135" style="stroke:#000000;stroke-width:2;"/>
<text x="440" y="155" text-anchor="middle">O</text>
<text x="412.5" y="210" text-anchor="middle">P</text>
<text x="412.5" y="265" text-anchor="middle">w7</text>
<line x1="412.5" y1="220" x2="412.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<line x1="440" y1="165" x2="412.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<text x="467.5" y="210" text-anchor="middle">Q</text>
<text x="467.5" y="265" text-anchor="middle">R</text>
<text x="467.5" y="320" text-anchor="middle">w8</text>
<line x1="467.5" y1="275" x2="467.5" y2="300" style="stroke:#000000;stroke-width:2;"/>
<line x1="467.5" y1="220" x2="467.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<line x1="440" y1="165" x2="467.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<line x1="412.5" y1="110" x2="440" y2="135" style="stroke:#000000;stroke-width:2;"/>
<line x1="275" y1="55" x2="412.5" y2="80" style="stroke:#000000;stroke-width:2;"/>
<text x="522.5" y="100" text-anchor="middle">S</text>
<text x="522.5" y="155" text-anchor="middle">w9</text>
<line x1="522.5" y1="110" x2="522.5" y2="135" style="stroke:#000000;stroke-width:2;"/>
<line x1="275" y1="55" x2="522.5" y2="80" style="stroke:#000000;stroke-width:2;"/>
</svg>
</dd></dl>

<br><h3><a name="sec3.8">3.8</a>&nbsp;&nbsp;&nbsp;&nbsp;The sister relation</h3>

<p align="justify">As a demonstration of the sister relation, the wildcard node descriptions (<tt>__</tt>) in (<a href="#ex22">22</a>) are constrained to match any node that happens to be a sister of a node labelled <tt>F</tt>.</p>

<dl><dt>(<a name="ex22">22</a>)</dt><dd>
<tt>F&nbsp;$&nbsp;__&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(sister)</tt><br>
<tt>__&nbsp;$&nbsp;F&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(sister)</tt><br>
</dd></dl>

<p align="justify">As examples of search matching, the wildcards of (<a href="#ex22">22</a>) can match any of the marked nodes in (<a href="#ex23">23</a>) (one match for each search hit) that are not <tt>F</tt>, both of which occur at the same level as <tt>F</tt> in the tree structure.</p>

<dl><dt>(<a name="ex23">23</a>)</dt><dd>
<svg xmlns:svg="http://www.w3.org/2000/svg" xmlns:exslt="http://exslt.org/common" width="550" height="330" viewBox="-5.50 -1.650 660.0 396.0">
<text x="275" y="45" text-anchor="middle">A</text>
<text x="165" y="100" text-anchor="middle">B</text>
<text x="110" y="155" text-anchor="middle">C</text>
<text x="82.5" y="210" text-anchor="middle">D</text>
<rect x="12.5" y="245" width="30" height="30" rx="10" ry="10" style="fill: none; stroke: MediumSpringGreen; stroke-width: 10;"/>
<text x="27.5" y="265" text-anchor="middle">E</text>
<text x="27.5" y="320" text-anchor="middle">w0</text>
<line x1="27.5" y1="275" x2="27.5" y2="300" style="stroke:#000000;stroke-width:2;"/>
<line x1="82.5" y1="220" x2="27.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<rect x="67.5" y="245" width="30" height="30" rx="10" ry="10" style="fill: none; stroke: SandyBrown; stroke-width: 10;"/>
<text x="82.5" y="265" text-anchor="middle">F</text>
<text x="82.5" y="320" text-anchor="middle">w1</text>
<line x1="82.5" y1="275" x2="82.5" y2="300" style="stroke:#000000;stroke-width:2;"/>
<line x1="82.5" y1="220" x2="82.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<rect x="122.5" y="245" width="30" height="30" rx="10" ry="10" style="fill: none; stroke: MediumSpringGreen; stroke-width: 10;"/>
<text x="137.5" y="265" text-anchor="middle">G</text>
<text x="137.5" y="320" text-anchor="middle">w2</text>
<line x1="137.5" y1="275" x2="137.5" y2="300" style="stroke:#000000;stroke-width:2;"/>
<line x1="82.5" y1="220" x2="137.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<line x1="110" y1="165" x2="82.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<text x="192.5" y="210" text-anchor="middle">H</text>
<text x="192.5" y="265" text-anchor="middle">w3</text>
<line x1="192.5" y1="220" x2="192.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<line x1="110" y1="165" x2="192.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<line x1="165" y1="110" x2="110" y2="135" style="stroke:#000000;stroke-width:2;"/>
<text x="275" y="155" text-anchor="middle">I</text>
<text x="247.5" y="210" text-anchor="middle">J</text>
<text x="247.5" y="265" text-anchor="middle">w4</text>
<line x1="247.5" y1="220" x2="247.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<line x1="275" y1="165" x2="247.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<text x="302.5" y="210" text-anchor="middle">K</text>
<text x="302.5" y="265" text-anchor="middle">L</text>
<text x="302.5" y="320" text-anchor="middle">w5</text>
<line x1="302.5" y1="275" x2="302.5" y2="300" style="stroke:#000000;stroke-width:2;"/>
<line x1="302.5" y1="220" x2="302.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<line x1="275" y1="165" x2="302.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<line x1="165" y1="110" x2="275" y2="135" style="stroke:#000000;stroke-width:2;"/>
<line x1="275" y1="55" x2="165" y2="80" style="stroke:#000000;stroke-width:2;"/>
<text x="412.5" y="100" text-anchor="middle">M</text>
<text x="357.5" y="155" text-anchor="middle">N</text>
<text x="357.5" y="210" text-anchor="middle">w6</text>
<line x1="357.5" y1="165" x2="357.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<line x1="412.5" y1="110" x2="357.5" y2="135" style="stroke:#000000;stroke-width:2;"/>
<text x="440" y="155" text-anchor="middle">O</text>
<text x="412.5" y="210" text-anchor="middle">P</text>
<text x="412.5" y="265" text-anchor="middle">w7</text>
<line x1="412.5" y1="220" x2="412.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<line x1="440" y1="165" x2="412.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<text x="467.5" y="210" text-anchor="middle">Q</text>
<text x="467.5" y="265" text-anchor="middle">R</text>
<text x="467.5" y="320" text-anchor="middle">w8</text>
<line x1="467.5" y1="275" x2="467.5" y2="300" style="stroke:#000000;stroke-width:2;"/>
<line x1="467.5" y1="220" x2="467.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<line x1="440" y1="165" x2="467.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<line x1="412.5" y1="110" x2="440" y2="135" style="stroke:#000000;stroke-width:2;"/>
<line x1="275" y1="55" x2="412.5" y2="80" style="stroke:#000000;stroke-width:2;"/>
<text x="522.5" y="100" text-anchor="middle">S</text>
<text x="522.5" y="155" text-anchor="middle">w9</text>
<line x1="522.5" y1="110" x2="522.5" y2="135" style="stroke:#000000;stroke-width:2;"/>
<line x1="275" y1="55" x2="522.5" y2="80" style="stroke:#000000;stroke-width:2;"/>
</svg>
</dd></dl>

<br><h3><a name="sec3.9">3.9</a>&nbsp;&nbsp;&nbsp;&nbsp;The sister-and-precedes or sister-and-follows relations</h3>

<p align="justify">As a demonstration of the sister-and-precedes relation, the wildcard node descriptions (<tt>__</tt>) in (<a href="#ex24">24</a>) are constrained to match any node where a node labelled <tt>E</tt> is a preceding sister.</p>

<dl><dt>(<a name="ex24">24</a>)</dt><dd>
<tt>E&nbsp;$..&nbsp;__&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(sister&nbsp;and&nbsp;precedes)</tt><br>
<tt>__&nbsp;$,,&nbsp;E&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(sister&nbsp;and&nbsp;follows)</tt><br>
</dd></dl>

<p align="justify">As examples of search matching, the wildcards of (<a href="#ex24">24</a>) can match any of the marked nodes in (<a href="#ex25">25</a>) (one match for each search hit) that are not <tt>E</tt>, both of which occur at the same level in the tree structure as <tt>E</tt> and occur after <tt>E</tt>.</p>

<dl><dt>(<a name="ex25">25</a>)</dt><dd>
<svg xmlns:svg="http://www.w3.org/2000/svg" xmlns:exslt="http://exslt.org/common" width="550" height="330" viewBox="-5.50 -1.650 660.0 396.0">
<text x="275" y="45" text-anchor="middle">A</text>
<text x="165" y="100" text-anchor="middle">B</text>
<text x="110" y="155" text-anchor="middle">C</text>
<text x="82.5" y="210" text-anchor="middle">D</text>
<rect x="12.5" y="245" width="30" height="30" rx="10" ry="10" style="fill: none; stroke: SandyBrown; stroke-width: 10;"/>
<text x="27.5" y="265" text-anchor="middle">E</text>
<text x="27.5" y="320" text-anchor="middle">w0</text>
<line x1="27.5" y1="275" x2="27.5" y2="300" style="stroke:#000000;stroke-width:2;"/>
<line x1="82.5" y1="220" x2="27.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<rect x="67.5" y="245" width="30" height="30" rx="10" ry="10" style="fill: none; stroke: MediumSpringGreen; stroke-width: 10;"/>
<text x="82.5" y="265" text-anchor="middle">F</text>
<text x="82.5" y="320" text-anchor="middle">w1</text>
<line x1="82.5" y1="275" x2="82.5" y2="300" style="stroke:#000000;stroke-width:2;"/>
<line x1="82.5" y1="220" x2="82.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<rect x="122.5" y="245" width="30" height="30" rx="10" ry="10" style="fill: none; stroke: MediumSpringGreen; stroke-width: 10;"/>
<text x="137.5" y="265" text-anchor="middle">G</text>
<text x="137.5" y="320" text-anchor="middle">w2</text>
<line x1="137.5" y1="275" x2="137.5" y2="300" style="stroke:#000000;stroke-width:2;"/>
<line x1="82.5" y1="220" x2="137.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<line x1="110" y1="165" x2="82.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<text x="192.5" y="210" text-anchor="middle">H</text>
<text x="192.5" y="265" text-anchor="middle">w3</text>
<line x1="192.5" y1="220" x2="192.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<line x1="110" y1="165" x2="192.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<line x1="165" y1="110" x2="110" y2="135" style="stroke:#000000;stroke-width:2;"/>
<text x="275" y="155" text-anchor="middle">I</text>
<text x="247.5" y="210" text-anchor="middle">J</text>
<text x="247.5" y="265" text-anchor="middle">w4</text>
<line x1="247.5" y1="220" x2="247.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<line x1="275" y1="165" x2="247.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<text x="302.5" y="210" text-anchor="middle">K</text>
<text x="302.5" y="265" text-anchor="middle">L</text>
<text x="302.5" y="320" text-anchor="middle">w5</text>
<line x1="302.5" y1="275" x2="302.5" y2="300" style="stroke:#000000;stroke-width:2;"/>
<line x1="302.5" y1="220" x2="302.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<line x1="275" y1="165" x2="302.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<line x1="165" y1="110" x2="275" y2="135" style="stroke:#000000;stroke-width:2;"/>
<line x1="275" y1="55" x2="165" y2="80" style="stroke:#000000;stroke-width:2;"/>
<text x="412.5" y="100" text-anchor="middle">M</text>
<text x="357.5" y="155" text-anchor="middle">N</text>
<text x="357.5" y="210" text-anchor="middle">w6</text>
<line x1="357.5" y1="165" x2="357.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<line x1="412.5" y1="110" x2="357.5" y2="135" style="stroke:#000000;stroke-width:2;"/>
<text x="440" y="155" text-anchor="middle">O</text>
<text x="412.5" y="210" text-anchor="middle">P</text>
<text x="412.5" y="265" text-anchor="middle">w7</text>
<line x1="412.5" y1="220" x2="412.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<line x1="440" y1="165" x2="412.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<text x="467.5" y="210" text-anchor="middle">Q</text>
<text x="467.5" y="265" text-anchor="middle">R</text>
<text x="467.5" y="320" text-anchor="middle">w8</text>
<line x1="467.5" y1="275" x2="467.5" y2="300" style="stroke:#000000;stroke-width:2;"/>
<line x1="467.5" y1="220" x2="467.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<line x1="440" y1="165" x2="467.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<line x1="412.5" y1="110" x2="440" y2="135" style="stroke:#000000;stroke-width:2;"/>
<line x1="275" y1="55" x2="412.5" y2="80" style="stroke:#000000;stroke-width:2;"/>
<text x="522.5" y="100" text-anchor="middle">S</text>
<text x="522.5" y="155" text-anchor="middle">w9</text>
<line x1="522.5" y1="110" x2="522.5" y2="135" style="stroke:#000000;stroke-width:2;"/>
<line x1="275" y1="55" x2="522.5" y2="80" style="stroke:#000000;stroke-width:2;"/>
</svg>
</dd></dl>

<br><h3><a name="sec3.10">3.10</a>&nbsp;&nbsp;&nbsp;&nbsp;The sister-and-immediately-precedes and sister-and-immediately-follows relations</h3>

<p align="justify">As a demonstration of the sister-and-immediately-precedes relation, the wildcard node descriptions (<tt>__</tt>) in (<a href="#ex26">26</a>) are constrained to match the node where a node labelled <tt>E</tt> is the immediately preceding sister.</p>

<dl><dt>(<a name="ex26">26</a>)</dt><dd>
<tt>E&nbsp;$.&nbsp;__&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(sister&nbsp;and&nbsp;immediately&nbsp;precedes)</tt><br>
<tt>__&nbsp;$,&nbsp;E&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(sister&nbsp;and&nbsp;immediately&nbsp;follows)</tt><br>
</dd></dl>

<p align="justify">As examples of search matching, the wildcards of (<a href="#ex26">26</a>) can match the marked <tt>F</tt> node in (<a href="#ex27">27</a>), which occurs at the same level in the tree structure as <tt>E</tt> and comes immediately after <tt>E</tt>.</p>

<dl><dt>(<a name="ex27">27</a>)</dt><dd>
<svg xmlns:svg="http://www.w3.org/2000/svg" xmlns:exslt="http://exslt.org/common" width="550" height="330" viewBox="-5.50 -1.650 660.0 396.0">
<text x="275" y="45" text-anchor="middle">A</text>
<text x="165" y="100" text-anchor="middle">B</text>
<text x="110" y="155" text-anchor="middle">C</text>
<text x="82.5" y="210" text-anchor="middle">D</text>
<rect x="12.5" y="245" width="30" height="30" rx="10" ry="10" style="fill: none; stroke: SandyBrown; stroke-width: 10;"/>
<text x="27.5" y="265" text-anchor="middle">E</text>
<text x="27.5" y="320" text-anchor="middle">w0</text>
<line x1="27.5" y1="275" x2="27.5" y2="300" style="stroke:#000000;stroke-width:2;"/>
<line x1="82.5" y1="220" x2="27.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<rect x="67.5" y="245" width="30" height="30" rx="10" ry="10" style="fill: none; stroke: MediumSpringGreen; stroke-width: 10;"/>
<text x="82.5" y="265" text-anchor="middle">F</text>
<text x="82.5" y="320" text-anchor="middle">w1</text>
<line x1="82.5" y1="275" x2="82.5" y2="300" style="stroke:#000000;stroke-width:2;"/>
<line x1="82.5" y1="220" x2="82.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<text x="137.5" y="265" text-anchor="middle">G</text>
<text x="137.5" y="320" text-anchor="middle">w2</text>
<line x1="137.5" y1="275" x2="137.5" y2="300" style="stroke:#000000;stroke-width:2;"/>
<line x1="82.5" y1="220" x2="137.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<line x1="110" y1="165" x2="82.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<text x="192.5" y="210" text-anchor="middle">H</text>
<text x="192.5" y="265" text-anchor="middle">w3</text>
<line x1="192.5" y1="220" x2="192.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<line x1="110" y1="165" x2="192.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<line x1="165" y1="110" x2="110" y2="135" style="stroke:#000000;stroke-width:2;"/>
<text x="275" y="155" text-anchor="middle">I</text>
<text x="247.5" y="210" text-anchor="middle">J</text>
<text x="247.5" y="265" text-anchor="middle">w4</text>
<line x1="247.5" y1="220" x2="247.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<line x1="275" y1="165" x2="247.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<text x="302.5" y="210" text-anchor="middle">K</text>
<text x="302.5" y="265" text-anchor="middle">L</text>
<text x="302.5" y="320" text-anchor="middle">w5</text>
<line x1="302.5" y1="275" x2="302.5" y2="300" style="stroke:#000000;stroke-width:2;"/>
<line x1="302.5" y1="220" x2="302.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<line x1="275" y1="165" x2="302.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<line x1="165" y1="110" x2="275" y2="135" style="stroke:#000000;stroke-width:2;"/>
<line x1="275" y1="55" x2="165" y2="80" style="stroke:#000000;stroke-width:2;"/>
<text x="412.5" y="100" text-anchor="middle">M</text>
<text x="357.5" y="155" text-anchor="middle">N</text>
<text x="357.5" y="210" text-anchor="middle">w6</text>
<line x1="357.5" y1="165" x2="357.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<line x1="412.5" y1="110" x2="357.5" y2="135" style="stroke:#000000;stroke-width:2;"/>
<text x="440" y="155" text-anchor="middle">O</text>
<text x="412.5" y="210" text-anchor="middle">P</text>
<text x="412.5" y="265" text-anchor="middle">w7</text>
<line x1="412.5" y1="220" x2="412.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<line x1="440" y1="165" x2="412.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<text x="467.5" y="210" text-anchor="middle">Q</text>
<text x="467.5" y="265" text-anchor="middle">R</text>
<text x="467.5" y="320" text-anchor="middle">w8</text>
<line x1="467.5" y1="275" x2="467.5" y2="300" style="stroke:#000000;stroke-width:2;"/>
<line x1="467.5" y1="220" x2="467.5" y2="245" style="stroke:#000000;stroke-width:2;"/>
<line x1="440" y1="165" x2="467.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<line x1="412.5" y1="110" x2="440" y2="135" style="stroke:#000000;stroke-width:2;"/>
<line x1="275" y1="55" x2="412.5" y2="80" style="stroke:#000000;stroke-width:2;"/>
<text x="522.5" y="100" text-anchor="middle">S</text>
<text x="522.5" y="155" text-anchor="middle">w9</text>
<line x1="522.5" y1="110" x2="522.5" y2="135" style="stroke:#000000;stroke-width:2;"/>
<line x1="275" y1="55" x2="522.5" y2="80" style="stroke:#000000;stroke-width:2;"/>
</svg>
</dd></dl>

<br><h3><a name="sec3.11">3.11</a>&nbsp;&nbsp;&nbsp;&nbsp;The <tt>i</tt>-th child relationships</h3>

<p align="justify">To specify the exact child position which a node must (or must not) occupy, use the <tt>i</tt>-th child relationships (<tt>&lt;i</tt>, <tt>&lt;-i</tt>, <tt>!&lt;i</tt>, and <tt>!&lt;-i</tt>; also expressed with <tt>&gt;i</tt>, <tt>&gt;-i</tt>, <tt>!&gt;i</tt>, and <tt>!&gt;-i</tt>). In these relationships, <tt>i</tt> represents a number indicating which child &lsquo;slot&rsquo; is to be considered. Positive numbers are counts from the left edge, while negative numbers are counts from the right edge. For example, (<a href="#ex28">28</a>) finds instances of <tt>NP</tt> where the second child is a <tt>PP</tt>.</p>

<dl><dt>(<a name="ex28">28</a>)</dt><dd>
<tt>&sol;^NP&#92;b&sol;&nbsp;&lt;2&nbsp;&sol;^PP&#92;b&sol;</tt><br>
</dd></dl>

<p align="justify">Pattern (<a href="#ex29">29</a>) finds instances of <tt>NP</tt> where the last child is a <tt>PRN</tt>.</p>

<dl><dt>(<a name="ex29">29</a>)</dt><dd>
<tt>&sol;^NP&#92;b&sol;&nbsp;&lt;-1&nbsp;&sol;^PRN&#92;b&sol;</tt><br>
</dd></dl>

<p align="justify">Pattern (<a href="#ex30">30</a>) finds instances of <tt>NP</tt> which have less than three children. That is, every <tt>NP</tt> which has three or more children will have <i>something</i> as its third child to make matching with (<a href="#ex30">30</a>) fail.</p>

<dl><dt>(<a name="ex30">30</a>)</dt><dd>
<tt>&sol;^NP&#92;b&sol;&nbsp;!&lt;3&nbsp;__</tt><br>
</dd></dl>

<p align="justify">To select nodes with specific numbers of children, you can use a positive and negative <tt>i</tt>-th child relationship. For example, to find <tt>NP</tt> nodes which dominate either twelve or thirteen children you would use pattern (<a href="#ex31">31</a>).</p>

<dl><dt>(<a name="ex31">31</a>)</dt><dd>
<tt>&sol;^NP&#92;b&sol;&nbsp;&lt;12&nbsp;__&nbsp;!&lt;14&nbsp;__</tt><br>
</dd></dl>

<br><h3><a name="sec3.12">3.12</a>&nbsp;&nbsp;&nbsp;&nbsp;Other relationships</h3>

<p align="justify">Other available relationships between nodes, additional to those given above in (<a href="#ex7">7</a>), are given in (<a href="#ex32">32</a>):</p>

<dl><dt>(<a name="ex32">32</a>)</dt><dd>
<tt>A&nbsp;&lt;&lt;,&nbsp;B&nbsp;&nbsp;&nbsp;B&nbsp;is&nbsp;a&nbsp;leftmost&nbsp;descendant&nbsp;of&nbsp;A</tt><br>
<tt>A&nbsp;&lt;&lt;-&nbsp;B&nbsp;&nbsp;&nbsp;B&nbsp;is&nbsp;a&nbsp;rightmost&nbsp;descendant&nbsp;of&nbsp;A</tt><br>
<tt>A&nbsp;&gt;&gt;,&nbsp;B&nbsp;&nbsp;&nbsp;A&nbsp;is&nbsp;a&nbsp;leftmost&nbsp;descendant&nbsp;of&nbsp;B</tt><br>
<tt>A&nbsp;&gt;&gt;-&nbsp;B&nbsp;&nbsp;&nbsp;A&nbsp;is&nbsp;a&nbsp;rightmost&nbsp;descendant&nbsp;of&nbsp;B</tt><br>
<tt>A&nbsp;&lt;,&nbsp;B&nbsp;&nbsp;&nbsp;&nbsp;B&nbsp;is&nbsp;the&nbsp;first&nbsp;child&nbsp;of&nbsp;A&nbsp;(synonymous&nbsp;with&nbsp;A&nbsp;&lt;1&nbsp;B)</tt><br>
<tt>A&nbsp;&gt;,&nbsp;B&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;is&nbsp;the&nbsp;first&nbsp;child&nbsp;of&nbsp;B&nbsp;(synonymous&nbsp;with&nbsp;A&nbsp;&gt;1&nbsp;B)</tt><br>
<tt>A&nbsp;&lt;-&nbsp;B&nbsp;&nbsp;&nbsp;&nbsp;B&nbsp;is&nbsp;the&nbsp;last&nbsp;child&nbsp;of&nbsp;A&nbsp;(synonymous&nbsp;with&nbsp;A&nbsp;&lt;-1&nbsp;B)</tt><br>
<tt>A&nbsp;&gt;-&nbsp;B&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;is&nbsp;the&nbsp;last&nbsp;child&nbsp;of&nbsp;B&nbsp;(synonymous&nbsp;with&nbsp;A&nbsp;&gt;-1&nbsp;B)</tt><br>
<tt>A&nbsp;&lt;:&nbsp;B&nbsp;&nbsp;&nbsp;&nbsp;B&nbsp;is&nbsp;the&nbsp;only&nbsp;child&nbsp;of&nbsp;A</tt><br>
<tt>A&nbsp;&gt;:&nbsp;B&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;is&nbsp;the&nbsp;only&nbsp;child&nbsp;of&nbsp;B</tt><br>
<tt>A&nbsp;&lt;&lt;:&nbsp;B&nbsp;&nbsp;&nbsp;A&nbsp;dominates&nbsp;B&nbsp;via&nbsp;an&nbsp;unbroken&nbsp;chain&nbsp;(length&nbsp;&gt;&nbsp;0)&nbsp;of&nbsp;unary&nbsp;local&nbsp;trees</tt><br>
<tt>A&nbsp;&gt;&gt;:&nbsp;B&nbsp;&nbsp;&nbsp;A&nbsp;is&nbsp;dominated&nbsp;by&nbsp;B&nbsp;via&nbsp;an&nbsp;unbroken&nbsp;chain&nbsp;(length&nbsp;&gt;&nbsp;0)&nbsp;of&nbsp;unary&nbsp;local&nbsp;trees</tt><br>
</dd></dl>

<br><h2><a name="sec4">4</a>&nbsp;&nbsp;&nbsp;&nbsp;Boolean expressions for building complex patterns</h2>

<p align="justify">Complex Tregex patterns can be constructed by specifying Boolean expressions of relationships that connect to a node. If no operator is placed between two relationships, they are assumed to be connected by an <i>and</i>, which can be specified for clarity with an ampersand (<tt>&</tt>). Thus, patterns (<a href="#ex33">33</a>) and (<a href="#ex34">34</a>) both match an <tt>&sol;^IP&#92;b&sol;</tt> node which immediately dominates a <tt>&sol;^PP&#92;b&sol;</tt> node <i>and</i> which dominates an <tt>&sol;^IP&#92;b&sol;</tt> node.</p>

<dl><dt>(<a name="ex33">33</a>)</dt><dd>
<tt>&sol;^IP&#92;b&sol;&nbsp;&lt;&nbsp;&sol;^PP&#92;b&sol;&nbsp;&lt;&lt;&nbsp;&sol;^IP&#92;b&sol;</tt><br>
</dd></dl>

<dl><dt>(<a name="ex34">34</a>)</dt><dd>
<tt>&sol;^IP&#92;b&sol;&nbsp;&lt;&nbsp;&sol;^PP&#92;b&sol;&nbsp;&amp;&nbsp;&lt;&lt;&nbsp;&sol;^IP&#92;b&sol;</tt><br>
</dd></dl>

<p align="justify">The second relationship &lsquo;<tt>&lt;&lt; &sol;^IP&#92;b&sol;</tt>&rsquo; refers to the first <tt>&sol;^IP&#92;b&sol;</tt> and not to the <tt>&sol;^PP&#92;b&sol;</tt>, and is equivalent to (<a href="#ex35">35</a>).</p>

<dl><dt>(<a name="ex35">35</a>)</dt><dd>
<tt>(&sol;^IP&#92;b&sol;&nbsp;&lt;&nbsp;&sol;^PP&#92;b&sol;)&nbsp;&lt;&lt;&nbsp;&sol;^IP&#92;b&sol;</tt><br>
</dd></dl>

<p align="justify">The placement of parenthesis can be used to group a node with its relationship(s), so that (<a href="#ex36">36</a>) can match an <tt>&sol;^IP&#92;b&sol;</tt> which immediately dominates a <tt>&sol;^PP&#92;b&sol;</tt> which in turn dominates some <tt>&sol;^IP&#92;b&sol;</tt>.</p>

<dl><dt>(<a name="ex36">36</a>)</dt><dd>
<tt>&sol;^IP&#92;b&sol;&nbsp;&lt;&nbsp;(&sol;^PP&#92;b&sol;&nbsp;&lt;&lt;&nbsp;&sol;^IP&#92;b&sol;)</tt><br>
</dd></dl>

<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;If a pipe (<tt>|</tt>) is placed between two relationships, only one of the relationships must be satisfied. Pattern (<a href="#ex37">37</a>) will find an <tt>&sol;^IP&#92;b&sol;</tt> node which immediately dominates a <tt>&sol;^PP&#92;b&sol;</tt> node or dominates an <tt>&sol;^IP&#92;b&sol;</tt> node.</p>

<dl><dt>(<a name="ex37">37</a>)</dt><dd>
<tt>&sol;^IP&#92;b&sol;&nbsp;&lt;&nbsp;&sol;^PP&#92;b&sol;&nbsp;|&nbsp;&lt;&lt;&nbsp;&sol;^IP&#92;b&sol;</tt><br>
</dd></dl>

<p align="justify">The (possibly implicit) <i>and</i> binds tighter than the <i>or</i>. So pattern (<a href="#ex38">38</a>) will find an <tt>&sol;^IP&#92;b&sol;</tt> node that has <tt>VB</tt> and <tt>VB2</tt> children or that has <tt>/^NP-PRD&#92;b/</tt> and <tt>AX</tt> children.</p>

<dl><dt>(<a name="ex38">38</a>)</dt><dd>
<tt>&sol;^IP&#92;b&sol;&nbsp;&lt;&nbsp;VB&nbsp;&lt;&nbsp;VB2&nbsp;|&nbsp;&lt;&nbsp;&sol;^NP-PRD&#92;b&sol;&nbsp;&lt;&nbsp;AX</tt><br>
</dd></dl>

<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;To create more complex expressions, square brackets (<tt>[</tt>, <tt>]</tt>) can be used to group relationships to form a complex relationship. Thus, pattern (<a href="#ex39">39</a>) finds an <tt>&sol;^IP&#92;b&sol;</tt> that has a <tt>VB</tt> or <tt>&sol;^NP-PRD&#92;b&sol;</tt> child, and that precedes a subject sister or follows an <tt>&sol;^ADVP&#92;b&sol;</tt> sister.</p>

<dl><dt>(<a name="ex39">39</a>)</dt><dd>
<tt>&sol;^IP&#92;b&sol;&nbsp;[&nbsp;&lt;&nbsp;VB&nbsp;|&nbsp;&lt;&nbsp;&sol;^NP-PRD&#92;b&sol;&nbsp;]&nbsp;[&nbsp;$..&nbsp;&sol;SBJ&sol;&nbsp;|&nbsp;$,,&nbsp;&sol;^ADVP&#92;b&sol;&nbsp;]</tt><br>
</dd></dl>

<p align="justify">Because a square bracketed expression itself acts as a complex relationship connecting to a node, an open square bracket must immediately precede a relationship or another open square bracket that itself starts a complex relationship.</p>

<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;Any relationship, including a square bracketed one, can be negated by immediately preceding it with an exclamation mark (<tt>!</tt>). Thus, pattern (<a href="#ex40">40</a>) will find <tt>&sol;^IP&#92;b&sol;</tt> nodes that do not simultaneously have <tt>&sol;^NP&#92;b&sol;</tt> and <tt>&sol;^PP&#92;b&sol;</tt> children.</p>

<dl><dt>(<a name="ex40">40</a>)</dt><dd>
<tt>&sol;^IP&#92;b&sol;&nbsp;![&nbsp;&lt;&nbsp;&sol;^NP&#92;b&sol;&nbsp;&lt;&nbsp;&sol;^PP&#92;b&sol;&nbsp;]</tt><br>
</dd></dl>

<br><h2><a name="sec5">5</a>&nbsp;&nbsp;&nbsp;&nbsp;Labeled nodes and back links</h2>

<p align="justify">Search patterns allow for a matched node to be given a unique label with an equal sign (<tt>=</tt>). Once labelled, a node can thereafter be referred back to elsewhere within the search pattern. Such a &lsquo;back link&rsquo; is accomplished when the node name only consists of an equal sign and a label, with the label serving to refer to the node that has been assigned to that name elsewhere in the pattern. It is only possible to express patterns in which the labelled node comes prior in the connected structure of the pattern that leads to a back link.</p>

<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;As an example of how back links are useful, consider the task of finding relative clauses with object traces. An object trace might be embedded arbitrarily deeply inside its relative clause, which is captured with the dominates relation (&lsquo;<tt>&lt;&lt; (&sol;OB1&sol; < &sol;&#92;*T&#92;*&sol;)</tt>&rsquo;). However, without further qualification, this is too liberal, as it will also allow the return of a relative clause that itself has no object trace but contains a relative clause with an object trace. We can add the extra qualification to prohibit the unwelcome scenario with a back link, resulting in (<a href="#ex41">41</a>).</p>

<dl><dt>(<a name="ex41">41</a>)</dt><dd>
<tt>&sol;REL&sol;=p&nbsp;&lt;&lt;&nbsp;(&sol;OB1&sol;&nbsp;&lt;&nbsp;&sol;&#92;*T&#92;*&sol;&nbsp;!&gt;&gt;&nbsp;(&sol;REL&sol;&nbsp;&gt;&gt;&nbsp;=p))</tt><br>
</dd></dl>

<p align="justify">The added back link statement (&lsquo;<tt>!&gt;&gt; (&sol;REL&sol; &gt;&gt; =p)</tt>&rsquo;) requires there to be no intervening relative clause (<tt>&sol;REL&sol;</tt>) between the object trace and the relative clause that the pattern serves to find.</p>

<br><h2><a name="sec6">6</a>&nbsp;&nbsp;&nbsp;&nbsp;Segmented patterns</h2>

<p align="justify">Search patterns can be split into multiple segments, which are separated by colons (<tt>:</tt>). Segments following the first have to include a reference to a labelled node that is defined in a previous segment. Thus, pattern (<a href="#ex42">42</a>) will find trees where an <tt>NP</tt> immediately dominates a <tt>CP-THT</tt>.</p>

<dl><dt>(<a name="ex42">42</a>)</dt><dd>
<tt>&sol;^NP&#92;b&sol;=x&nbsp;:&nbsp;=x&nbsp;&lt;&nbsp;&sol;^CP-THT&#92;b&sol;</tt><br>
</dd></dl>

<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;With labeling of complex nodes, segments can entirely replace patterns that otherwise require embedded relationships. Pattern (<a href="#ex43">43</a>) without segments and pattern (<a href="#ex44">44</a>) with segments match identical structure. For example, they can match the tree fragment (<a href="#ex45">45</a>).</p>

<dl><dt>(<a name="ex43">43</a>)</dt><dd>
<tt>&sol;^NP&#92;b&sol;&nbsp;&lt;&nbsp;N&nbsp;&lt;&nbsp;(&sol;^CP-THT&#92;b&sol;&nbsp;&lt;&nbsp;(&sol;^IP-SUB&#92;b&sol;&nbsp;&lt;&nbsp;(AX&nbsp;&lt;&nbsp;う|よう)))</tt><br>
</dd></dl>

<dl><dt>(<a name="ex44">44</a>)</dt><dd>
<tt>&sol;^NP&#92;b&sol;=x&nbsp;:&nbsp;(=x&nbsp;&lt;&nbsp;N)&nbsp;:&nbsp;(=x&nbsp;&lt;&nbsp;&sol;^CP-THT&#92;b&sol;=y)</tt><br>
<tt>:&nbsp;(=y&nbsp;&lt;&nbsp;&sol;^IP-SUB&#92;b&sol;=i)&nbsp;:&nbsp;(=i&nbsp;&lt;&nbsp;AX=c)&nbsp;:&nbsp;(=c&nbsp;&lt;&nbsp;う|よう)</tt><br>
</dd></dl>

<dl><dt>(<a name="ex45">45</a>)</dt><dd>
<svg xmlns:svg="http://www.w3.org/2000/svg" xmlns:exslt="http://exslt.org/common" width="495" height="385" viewBox="-4.95 -1.925 594.0 462.0">
<rect x="232.5" y="25" width="30" height="30" rx="10" ry="10" style="fill: none; stroke: SandyBrown; stroke-width: 10;"/>
<text x="247.5" y="45" text-anchor="middle">NP</text>
<text x="214.5" y="100" text-anchor="middle">CP-THT</text>
<text x="165" y="155" text-anchor="middle">IP-SUB</text>
<text x="33" y="210" text-anchor="middle">NP-SBJ</text>
<text x="33" y="265" text-anchor="middle">*pro*</text>
<line x1="33" y1="220" x2="33" y2="245" style="stroke:#000000;stroke-width:2;"/>
<line x1="165" y1="165" x2="33" y2="190" style="stroke:#000000;stroke-width:2;"/>
<text x="132" y="210" text-anchor="middle">PP-OB1</text>
<text x="99" y="265" text-anchor="middle">NP</text>
<text x="99" y="320" text-anchor="middle">N</text>
<text x="99" y="375" text-anchor="middle">言葉</text>
<line x1="99" y1="330" x2="99" y2="355" style="stroke:#000000;stroke-width:2;"/>
<line x1="99" y1="275" x2="99" y2="300" style="stroke:#000000;stroke-width:2;"/>
<line x1="132" y1="220" x2="99" y2="245" style="stroke:#000000;stroke-width:2;"/>
<text x="165" y="265" text-anchor="middle">P-ROLE</text>
<text x="165" y="320" text-anchor="middle">を</text>
<line x1="165" y1="275" x2="165" y2="300" style="stroke:#000000;stroke-width:2;"/>
<line x1="132" y1="220" x2="165" y2="245" style="stroke:#000000;stroke-width:2;"/>
<line x1="165" y1="165" x2="132" y2="190" style="stroke:#000000;stroke-width:2;"/>
<text x="231" y="210" text-anchor="middle">VB</text>
<text x="231" y="265" text-anchor="middle">改め</text>
<line x1="231" y1="220" x2="231" y2="245" style="stroke:#000000;stroke-width:2;"/>
<line x1="165" y1="165" x2="231" y2="190" style="stroke:#000000;stroke-width:2;"/>
<text x="297" y="210" text-anchor="middle">AX</text>
<text x="297" y="265" text-anchor="middle">よう</text>
<line x1="297" y1="220" x2="297" y2="245" style="stroke:#000000;stroke-width:2;"/>
<line x1="165" y1="165" x2="297" y2="190" style="stroke:#000000;stroke-width:2;"/>
<line x1="214.5" y1="110" x2="165" y2="135" style="stroke:#000000;stroke-width:2;"/>
<text x="379.5" y="155" text-anchor="middle">P-COMP</text>
<text x="379.5" y="210" text-anchor="middle">という</text>
<line x1="379.5" y1="165" x2="379.5" y2="190" style="stroke:#000000;stroke-width:2;"/>
<line x1="214.5" y1="110" x2="379.5" y2="135" style="stroke:#000000;stroke-width:2;"/>
<line x1="247.5" y1="55" x2="214.5" y2="80" style="stroke:#000000;stroke-width:2;"/>
<text x="462" y="100" text-anchor="middle">N</text>
<text x="462" y="155" text-anchor="middle">努力</text>
<line x1="462" y1="110" x2="462" y2="135" style="stroke:#000000;stroke-width:2;"/>
<line x1="247.5" y1="55" x2="462" y2="80" style="stroke:#000000;stroke-width:2;"/>
</svg>
</dd></dl>

<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;Segments are helpful for constraining data to be sourced from somewhere particular. For example (<a href="#ex46">46</a>) finds examples of relative clauses, but only when the data is from a file with a name (content under an <tt>ID</tt> node) that includes <tt>fiction</tt>.</p>

<dl><dt>(<a name="ex46">46</a>)</dt><dd>
<tt>&sol;REL&sol;=x&nbsp;&lt;&nbsp;__&nbsp;:&nbsp;=x&nbsp;..&nbsp;(ID&nbsp;&lt;&nbsp;&sol;fiction&sol;)</tt><br>
</dd></dl>
<br>
<br>
<br>
<h2><a name="references">References</a></h2>

<p><a name="Levy-and-Andrew-2006">Levy, Roger and Galen Andrew. 2006.</a> Tregex and Tsurgeon: tools for querying and manipulating tree data structure. In Calzolari, Nicoletta et al., <i>Proceedings of the Fifth International Conference on Language Resources and Evaluation (LREC'06)</i>, European Language Resources Association (ELRA), Genoa, Italy. Available at <tt><a href="https://aclanthology.org/L06-1311/">https://aclanthology.org/L06-1311/</a></tt>.
<p><a name="Pito-1994">Pito, Richard. 1994.</a> tgrepdoc&ndash;documentation for tgrep. University of Pennsylvania.</p>
<p><a name="Rohde-2005">Rohde, Douglas. 2005.</a> TGrep2 User Manual version 1.15. Available at: <tt><a href="https://github.com/andreasvc/tgrep2">https://github.com/andreasvc/tgrep2</a></tt>.</p>

<br/>
<br/>

</body>
</html>
