<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset=utf-8>
  <meta name="robots" content="noindex,nofollow">
  <meta name="Content-Style" content="text/css">
  <title>TSPC quick access interface</title>
  <style>
body {
        background-color: #FFFFFF;
        color: #111111;
        margin: 15px auto;
        padding: 0 10px;
}
@media (min-width: 800px) {
        body {
                max-width: 85%;
        }
}
  </style>
</head>
<body>

<br>
<br>
<br>
<center><h1>TSPC quick access interface</h1></center>
<center><h2>Alastair Butler</h2></center>
<center><h3>Hirosaki University</h3></center>

<br>
<br>

<br>
<h2><a name="sec1">1</a>&nbsp;&nbsp;&nbsp;Introduction</h2>

<p align="justify">This documentation introduces the TSPC quick access interface. This interface aims to give quick and simple access to the content of the Treebank Semantics Parsed Corpus (TSPC), a corpus of English with hand worked tree analysis for approaching half-a-million words. The interface is useful for:</p>
<dl>
<dt>(i)</dt><dd>browsing the corpus,</dd>
<dt>(ii)</dt><dd>accessing content by providing ID information,</dd>
<dt>(iii)</dt><dd>searching the corpus, and</dd>
<dt>(iv)</dt><dd>seeing visualisations of the parse analysis from three different perspectives: Tree, Word, and Graph.</dd>
</dl>

<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;The interface provides a &lsquo;live&rsquo; view of the corpus as it is being built. Indeed, the principle reason for the development of this interface has been to provide quick and simple access to visualisations of the corpus analysis as it is worked on. The interface also has a secondary role of offering an active way to explore the parsed data, with its querying functions being useful for linguistic research and English grammar teaching purposes.</p>

<br>
<h2><a name="sec2">2</a>&nbsp;&nbsp;&nbsp;The corpus overview page and interface map</h2>

<p align="justify">The corpus overview page is the default entry point to the interface and is also reached by clicking the &lsquo;Corpus overview&rsquo; link of any of the other pages. Other possible navigations through the  interface are illustrated in Figure 1. Notably, the search pages and context page are intermediate steps for reaching a tree page. From a tree page, you can toggle between the other visualisation pages, or visit&sol;return to the context page.</p>

<p><a name="fig1">Figure 1: Map of the interface</a></p>

<img src="https://ajb129.github.io/tspc_quick_access_map.png" alt="Map of the interface" height="440">

<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;The corpus overview page contains links for reaching the Grep and TGrep2 pages. There is also an ID field box with the functionality described in section <a href="#sec3">3</a> below. Finally, there is grouped listing of all the corpus files, with each listed item serving as a clickable link to a context page for the corresponding file. If the ID text box field has content, then the listing of files will be restricted to those files with names that contain the given content, ignoring case distinctions. With the corpus consisting of over four hundred files, this provides a useful way to zoom in on file collections, especially as related files have related names. If there is no match for the content of the ID text box, then the overview page is left with no listed files.</p>

<br>
<h2><a name="sec3">3</a>&nbsp;&nbsp;&nbsp;Accessing content by providing ID information</h2>

<p align="justify">The corpus overview page, context page, and visualisation pages all contain an ID text field box. When the corpus overview page is open, the ID box is blank by default. With the context page, the ID box contains the name of the shown file. With a visualisation page, the ID box contains the full ID name of the shown parse analysis.</p>

<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;A full ID name for a given instance of parse analysis takes the form of a number followed by an underscore character (&lsquo;_&rsquo;) and then the name of the file that contains the parse analysis.</p>

<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;You are free to edit the content of the ID box, and then by pressing the <tt>[ENTER]</tt> key, you will jump to the corresponding page for the edited ID information. Note:</p>
<ul>
<li>If you edit the ID box to give the full ID name for an instance of parse analysis, then a visualisation for the analysis is reached. If you do this from an already open visualisation page, then the mode of visualisation (Tree, Word, or Graph) will be maintained for the reached analysis, but if you do this from the corpus overview page or context page, then you will jump to a Tree view page for the referenced analysis.</li>
<li>If you edit the ID box to give a file name, then the context page for the file is reached.</li>
<li>If you edit the ID box to give an ID that is not recognised as either a full ID name for analysis or the name of a file in the corpus, then the corpus overview page is entered with a display of all the file names that contain the given ID string, ignoring case distinctions.</li>
</ul>

<br>
<h2><a name="sec4">4</a>&nbsp;&nbsp;&nbsp;The underlying data format</h2>

<p align="justify">To understand the functionality of the interface, particularly the options for search, it is helpful to know about the underlying data format used by the TSPC. Each corpus file is a text file containing instances of parse analysis separated by blank lines. Each analysis instance begins with a line that presents the overall word yield for the analysis. This yield is presented between opening and closing brackets with the form: &lsquo;<tt>=N(" </tt>&rsquo; and &lsquo;<tt> ")</tt>&rsquo;. Following this opening line comes the parse analysis itself, with each word of the analysis placed at the end of its own line and accompanied by lemma information between curly braces with an initial semi-colon (&lsquo;<tt>;&lcub;</tt>&rsquo;, &lsquo;<tt>&rcub;</tt>&rsquo;). Furthermore, each analysis line presents the path information from the root layer of the parse through to the word layer. The last line of a parse analysis instance is the ID node for the instance.</p>

<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;As examples, (<a href="#ex1">1</a>) shows the two opening instances of parse analysis from the file <tt>texts_Planetoid.txt</tt>:</p>

<dl>
  <dt>(<a name="ex1">1</a>)</dt><dd></dd>
</dl>
<tt>=N("&nbsp;Planetoid&nbsp;Written&nbsp;by&nbsp;Neil&nbsp;Raine&nbsp;")</tt><br>
<tt>"FRAG","NP","N","Planetoid;{planetoid}"</tt><br>
<tt>"FRAG","NP","IP-PPL","VVN;~Tn","Written;{write}"</tt><br>
<tt>"FRAG","NP","IP-PPL","PP-LGS","P-ROLE","by;{by}"</tt><br>
<tt>"FRAG","NP","IP-PPL","PP-LGS","NP","NPR;&#64;1","Neil;{Neil}"</tt><br>
<tt>"FRAG","NP","IP-PPL","PP-LGS","NP","NPR;&#64;2","Raine;{Raine}"</tt><br>
<tt>"ID","1_texts_Planetoid"</tt><br>
<tt></tt><br>
<tt>=N("&nbsp;Your&nbsp;laser&nbsp;-&nbsp;ship&nbsp;is&nbsp;patrolling&nbsp;the&nbsp;surface&nbsp;of&nbsp;the&nbsp;planetoid&nbsp;.&nbsp;")</tt><br>
<tt>"IP-MAT","NP-SBJ","NP-GENV","PRO","Your;{your}"</tt><br>
<tt>"IP-MAT","NP-SBJ","N;&#64;2","laser;{laser}"</tt><br>
<tt>"IP-MAT","NP-SBJ","PU","-"</tt><br>
<tt>"IP-MAT","NP-SBJ","N;&#64;4","ship;{ship}"</tt><br>
<tt>"IP-MAT","BEP","is;{be}"</tt><br>
<tt>"IP-MAT","IP-PPL-SEQ","VAG;~Tn","patrolling;{patrol}"</tt><br>
<tt>"IP-MAT","IP-PPL-SEQ","NP-OB1","D","the;{the}"</tt><br>
<tt>"IP-MAT","IP-PPL-SEQ","NP-OB1","N","surface;{surface}"</tt><br>
<tt>"IP-MAT","IP-PPL-SEQ","NP-OB1","PP","P-ROLE","of;{of}"</tt><br>
<tt>"IP-MAT","IP-PPL-SEQ","NP-OB1","PP","NP","D","the;{the}"</tt><br>
<tt>"IP-MAT","IP-PPL-SEQ","NP-OB1","PP","NP","N","planetoid;{planetoid}"</tt><br>
<tt>"IP-MAT","PU","."</tt><br>
<tt>"ID","2_texts_Planetoid"</tt><br>

<p align="justify">Note that some nodes in (<a href="#ex1">1</a>) have extra markings: <tt>"NPR;&#64;1"</tt> and <tt>"NPR;&#64;3"</tt> of <tt>1_texts_Planetoid</tt>, and <tt>"N;&#64;2"</tt> and <tt>"N;&#64;4"</tt> of <tt>2_texts_Planetoid</tt>. These nodes have the same preceeding paths: <tt>"FRAG","NP","IP-PPL","PP-LGS","NP"</tt>, and <tt>"IP-MAT","NP-SBJ"</tt>, respectively. When distinct nodes have the same tag and the same preceeding path, having the extra marking ensures nodes are uniquely distinguished when considering multiple paths. The convention followed for extra marking includes &lsquo;<tt>;&#64;n</tt>&rsquo; for the <tt>n</tt>-th sister node of a shared preceeding path.</p>

<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;To support TGrep2 search, the TSPC native format of (<a href="#ex1">1</a>) is converted into bracketed trees with a <tt>TOP</tt> node, as in (<a href="#ex2">2</a>).</p>

<dl>
  <dt>(<a name="ex2">2</a>)</dt><dd></dd>
</dl>
<tt>(TOP&nbsp;(FRAG&nbsp;(NP&nbsp;(N&nbsp;Planetoid)</tt><br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(IP-PPL&nbsp;(VVN;~Tn&nbsp;Written)</tt><br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(PP-LGS&nbsp;(P-ROLE&nbsp;by)</tt><br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(NP&nbsp;(NPR&nbsp;Neil)</tt><br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(NPR&nbsp;Raine))))))</tt><br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(ID&nbsp;1_texts_Planetoid))</tt><br>
<tt></tt><br>
<tt>(TOP&nbsp;(IP-MAT&nbsp;(NP-SBJ&nbsp;(NP-GENV&nbsp;(PRO&nbsp;Your))</tt><br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(N&nbsp;laser)</tt><br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(PU&nbsp;-)</tt><br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(N&nbsp;ship))</tt><br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(BEP&nbsp;is)</tt><br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(IP-PPL-SEQ&nbsp;(VAG;~Tn&nbsp;patrolling)</tt><br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(NP-OB1&nbsp;(D&nbsp;the)</tt><br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(N&nbsp;surface)</tt><br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(PP&nbsp;(P-ROLE&nbsp;of)</tt><br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(NP&nbsp;(D&nbsp;the)</tt><br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(N&nbsp;planetoid)))))</tt><br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(PU&nbsp;.))</tt><br>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(ID&nbsp;2_texts_Planetoid))</tt><br>

<p align="justify">Note that this conversion removes lemma content, and so lemmas cannot be queried from the TGrep2 page. Also, &lsquo;<tt>;&#64;n</tt>&rsquo; markings of nodes are removed, since nodes appear only once within the bracketed structure and so are always distinct.</p>

<br>
<h2><a name="sec5">5</a>&nbsp;&nbsp;&nbsp;Context page</h2>

<p align="justify">The context page gives a link for reaching the corpus overview page, followed by an ID field box that will contain the name of the file that is being shown. This ID field box has the functionality already described in section <a href="#sec3">3</a>. The remainder of the page consists of a table with two columns. The first column provides numbers for file content that has been given parse analysis. Each number forms a link for opening the instance of parse analysis in a tree page. The second column contains the yield content for the referenced analysis, extracted as the line content from the source data between &lsquo;<tt>=N(" </tt>&rsquo; and its closing &lsquo;<tt> ")</tt>&rsquo;, which is typically the content of a single sentence.</p>

<br>
<h2><a name="sec6">6</a>&nbsp;&nbsp;&nbsp;Search pages</h2>

<p align="justify">The interface provides two different methods for searching the corpus: the Grep page (section <a href="#sec6.1">6.1</a>); and the TGrep2 page (section <a href="#sec6.2">6.2</a>).</p>

<h3><a name="sec6.1">6.1</a>&nbsp;&nbsp;&nbsp;Grep page</h3>

<p align="justify">The Grep page gives a link for returning to the corpus overview page, and a text field box for entering a grep search pattern. A search is made after a search pattern is entered into the text field box and the <tt>[ENTER]</tt> key is pressed.</p>

<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;Search is made using the <tt>grep</tt> command (Magloire et al. 2021) under a recursive call (<tt>grep -nr</tt>) in a directory that contains the corpus data in the native corpus format described in section <a href="#sec4">4</a>, and illustrated with (<a href="#ex1">1</a>). Aside from making changes to the search pattern, there is no other way to restrict the searched data.</p>

<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;To find words that have the lemma <small style="font-size: 75%">SMILE</small>, use the search pattern (<a href="#ex3">3</a>).</p>

<dl>
  <dt>(<a name="ex3">3</a>)</dt><dd></dd>
</dl>
<tt>{smile}</tt><br>

<p align="justify">To find noun words that have the lemma <small style="font-size: 75%">SMILE</small>, use the search pattern (<a href="#ex4">4</a>).</p>

<dl>
  <dt>(<a name="ex4">4</a>)</dt><dd></dd>
</dl>
<tt>,.N[^,]*,[^,]*{smile}</tt><br>

<p align="justify">To find verb words that have the lemma <small style="font-size: 75%">SMILE</small>, use the search pattern (<a href="#ex5">5</a>).</p>

<dl>
  <dt>(<a name="ex5">5</a>)</dt><dd></dd>
</dl>
<tt>,.V[^,]*,[^,]*{smile}</tt><br>

<p align="justify">Note that the double quotes character (<tt>&quot;</tt>) cannot be used in grep search patterns made with the interface. In the patterns of (<a href="#ex4">4</a>) and (<a href="#ex5">5</a>), mention of double quote characters is avoided with use of the dot (&lsquo;<tt>.</tt>&rsquo;) character, which matches any single character.</p>

<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;In addition to searching for word lemmas, the Grep search page is particularly useful for searching through the yield lines of the annotation. Any search that involves a space character will automatically be restricted to finding its matches from yield lines.</p>

<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;After making a search, a count of the number of matched results is given at the top of a returned results page. This is followed by a display of the results in a tabled format with two columns. The first column consists of possibly coloured cells that contain the full content of a matched line from the corpus data, and the second column contains information about the line number followed by an underscore character (&lsquo;_&rsquo;) and then the file name for the reported content. This line number and file name serve as a link to a tree page for the overall linked instance of parse analysis.</p>

<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;The colouring of cells in the first column depends on the cell content as follows:</p>
<ul>
<li>Verbs with grammatical codes are coloured <font style="background-color: #FFFACD;">LemonChiffon</font>.</li>
<li>Full verbs without grammatical codes are coloured <font style="background-color: #FFDAB9;">PeachPuff</font>.</li>
<li><small style="font-size: 75%">DO</small>, <small style="font-size: 75%">HAVE</small>, and <small style="font-size: 75%">BE</small> verbs are coloured <font style="background-color: #D2B48C;">Tan</font>.</li>
<li>Other words with a word lemma are coloured <font style="background-color: #98FB98;">PaleGreen</font>.</li>
<li>Other items that lack a word lemma (e.g.&nbsp;punctuation) are coloured <font style="background-color: #D8BFD8;">Thistle</font>.</li>
<li>Yield lines, that is, lines starting with &lsquo;<tt>=N(" </tt>&rsquo;, have no added colour.</li>
</ul>

<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;Up to 2500 consecutive search results are returned following corpus order, that is, with matches taken from files following an alphabetical sort of the corpus filenames. That returned results are consecutive is important because this allows for the potential of contextual information being seen across returned lines. Quite where in the corpus order the consecutive search results come from is established through a random selection. If there are more than 2500 results, you can see a different batch of 2500 results by re-running the search.</p>

<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;When there are less than 100 search results, a link is provided at the bottom of the page for opening in a tree page a display of all the returned results as trees.</p>

<h3><a name="sec6.2">6.2</a>&nbsp;&nbsp;&nbsp;TGrep2 page</h3>

<p align="justify">The TGrep2 page gives a link for returning to the corpus overview page, and a text field box for entering a TGrep2 search pattern. A search is made after a search pattern is entered into the text field box and the <tt>[ENTER]</tt> key is pressed.</p>

<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;Search is made using the <tt>tgrep2</tt> command (Rohde 2005) over all the corpus data in a binary database built from data that was first converted into the bracketed format described in section <a href="#sec4">4</a>, and illustrated with (<a href="#ex2">2</a>). Aside from making changes to the search pattern, there is no other way to restrict the searched data.</p>

<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;TGrep2 queries are expressed as patterns that consist of extended regular expressions to match tree nodes, and a simple syntax for expressing structural relationships between matched nodes. Also, nodes can be assigned labels and may be referred to elsewhere in the pattern by those labels. As an example, consider pattern (<a href="#ex6">6</a>) which finds free relatives.</p>

<dl>
  <dt>(<a name="ex6">6</a>)</dt><dd><tt>&sol;&#94;NP&#92;b&sol;&nbsp;&lt;:&nbsp;(&sol;&#94;IP-REL&sol;=i&nbsp;&lt;&lt;&nbsp;(&sol;&#94;(RPRO|RD|RADV)&#92;b&sol;&nbsp;&lt;&nbsp;&lowbar;&lowbar;&nbsp;!&gt;&gt;&nbsp;(&sol;&#94;IP&#92;b&sol;&nbsp;&gt;&gt;&nbsp;=i)))</tt><br></dd>
</dl>

<form target="_blank" action="http://160.16.203.55/dev/cgi-bin/tspc_tgrep2.sh" method="post">
  <input type="hidden" name="search" value="/^NP\b/ <: (/^IP-REL/=i << (/^(RPRO|RD|RADV)\b/ < __ !>> (/^IP\b/ >> =i)))"/>
  <button type="submit" name="submit_param" value="submit_value" class="btn-link">Try</button>
</form>

<p align="justify">The tree relation &lsquo;<tt>&lt;:</tt>&rsquo; of (<a href="#ex6">6</a>) states that a matched <tt>IP-REL</tt> node is the only daughter of a matched <tt>NP</tt> node. The <tt>NP</tt> node is the master node found by the overall pattern. Brackets ensure that other conditions of the pattern concern the need for the matched <tt>IP-REL</tt> node to contain a relative word (that is, a word tagged as either <tt>RPRO</tt>, <tt>RD</tt>, or <tt>RADV</tt>) without there being a distinct intervening <tt>IP</tt> layer.</p>

<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;Results are displayed as trees, with content that matches the master node of the search pattern highlighted. The ID node of a shown tree works as a link for accessing the same tree in a Tree view page. Up to fifty trees are shown in random order. If there are more than fifty results, you can see different trees by re-running the search. The results page also gives information about the number of hits found, and the number of files that contain hits.</p>

<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;Because what is searched has to first be compiled from the source data, if the source data of the corpus is being altered, then it is possible for the compiled data to fall behind the state of the source data. There is then a chance that this might lead to a mismatch between what is seen from the search and what is subsequently seen from following the tree page links of the search, since all other parts of the interface work by directly accessing the (possibly changing) source data in the native format illustrated above with (<a href="#ex1">1</a>).</p>

<br>
<h2><a name="sec7">7</a>&nbsp;&nbsp;&nbsp;Visualisation pages</h2>

<p align="justify">The interface provides three different modes for visualising consequences of parse analysis: the tree page (section <a href="#sec7.1">7.1</a>); the word page (section <a href="#sec7.2">7.2</a>); and the graph page (section <a href="#sec7.3">7.3</a>). These pages all have an ID text field box that will contain the full name(s) for the analysis being shown. The content of the ID box can be edited, as described in section <a href="#sec3">3</a>.</p>

<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;At the top of each page, in addition to the ID box, there is also:</p>
<ul>
<li>a &lsquo;Context&rsquo; link for (returning to) the context page of the file that contains the analysis,</li>
<li>a &lsquo;Tree&rsquo; link for toggling to the tree page for the analysis being shown (This is bold and not a link when the page is already a tree page.),</li>
<li>a &lsquo;Word&rsquo; link for toggling to the word page for the analysis being shown (This is bold and not a link when the page is already a word page.),</li>
<li>a &lsquo;Graph&rsquo; link for toggling to the graph page for the analysis being shown (This is bold and not a link when the page is already a graph page.),</li>
<li>a &lsquo;Previous&rsquo; link for jumping to a page for the immediately preceeding analysis instance, keeping to the same mode of visualisation (If there is no preceeding instance, then &lsquo;Previous&rsquo; is presented with a line through it.),</li>
<li>a &lsquo;Next&rsquo; link for jumping to a page for the immediately following analysis instance, keeping to the same mode of visualisation (If there is no following instance, then &lsquo;Next&rsquo; takes you to a page with no visualisation.), and</li>
<li>a &lsquo;Corpus overview&rsquo; link for going to the corpus overview page.</li>
</ul>

<h3><a name="sec7.1">7.1</a>&nbsp;&nbsp;&nbsp;Tree page</h3>

<p align="justify">The tree page shows a tree visualisation of an instance of parse analysis. If multiple parse analysis IDs appear in the ID text field box, then a tree for each ID is shown. The ID node of a shown tree works as a link for opening the same tree in a new Tree view page. Figure 2 illustrates the tree page with parse analysis for (<a href="#ex7">7</a>).</p>

<dl>
  <dt>(<a name="ex7">7</a>)</dt><dd>Peter scuttered underneath the bushes.</dd>
</dl>

<p><a name="fig2">Figure 2: Example tree page</a></p>

<img src="https://ajb129.github.io/tspc_quick_access_tree.png" alt="Example tree page" height="310">

<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;This analysis demonstrates some key aspects of the annotation scheme:</p>
<ul>
<li>words project word class nodes (<tt>NPR</tt>=proper noun, <tt>VBD</tt>=past tense verb, <tt>P-ROLE</tt>=role marking preposition, <tt>D</tt>=determiner, <tt>NS</tt>=plural noun, <tt>PU</tt>=punctuation),</li>
<li>clauses are typed (<tt>IP-MAT</tt>=declarative main clause),</li>
<li>clause level constituents are function marked (<tt>-SBJ</tt>=subject, <tt>-DIR</tt>=direction role),</li>
<li>constituents contributing discourse referents have witness information (<tt>;{PETER}</tt>=the witness Peter), and</li>
<li>verbs have grammar pattern information (<tt>;~Ipr</tt>=selection of clause structure where there is an intransitive verb and post-verbal selected preposition phrase).</li>
</ul>

<h3><a name="sec7.2">7.2</a>&nbsp;&nbsp;&nbsp;Word page</h3>

<p align="justify">The word page shows the word analysis of an instance of parse analysis. If multiple parse analysis IDs appear in the ID text field box, then word analysis for each ID is shown. Figure 3 illustrates the word page with word analysis for (<a href="#ex7">7</a>).</p>

<p><a name="fig3">Figure 3: Example word page</a></p>

<img src="https://ajb129.github.io/tspc_quick_access_word.png" alt="Example word page" height="340">

<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;As Figure 3 shows, word analysis is presented in a tabled format with three main columns for words. The first column is for a word as it occurs in the source sentence(s). The second column presents the word class of the word from the first column. If the word is a verb associated with a grammar pattern, then this pattern information is also presented and highlighted with yellow. The third column presents information about the word of the first column with minimally a word lemma. If the word is a lexical word then it is also given sense definitions from a dictionary database. Moreover, if the word is a verb then the grammar pattern information is used to highlight with yellow compatible sense definitions, and leave other sense definitions shaded grey. Sense definitions with grammar codes are sourced from Cowie (1989). If the word is a verb without a grammar pattern, then all the cells containing sense numbers for the associated sense definitions are coloured red.</p>

<h3><a name="sec7.3">7.3</a>&nbsp;&nbsp;&nbsp;Graph page</h3>

<p align="justify">The graph page shows a graph visualisation of an instance of parse analysis produced by the Treebank Semantics evaluation system (Butler 2021). If multiple parse analysis IDs appear in the ID text field box, then a single graph is calculated from all the parse analysis of the given IDs. Figure 3 illustrates the graph page with graph analysis for (<a href="#ex7">7</a>).</p>

<p><a name="fig4">Figure 4: Example graph page</a></p>

<img src="https://ajb129.github.io/tspc_quick_access_graph.png" alt="Example graph page" height="220">

<p align="justify">In a graph, word content for source sentences is found outside of square brackets (&lsquo;<tt>[</tt>&rsquo;, &lsquo;<tt>]</tt>&rsquo;) and is always accompanied by (i) content between curly braces (&lsquo;<tt>&lcub;</tt>&rsquo;, &lsquo;<tt>&rcub;</tt>&rsquo;) to say the word class (and, when appropriate, grammar code) of the word, and (ii) numbering to say the word position within the source sentence(s).</p>

<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;There is at least one number per word, but there may be a second number separated by an underscore character (&lsquo;<tt>&lowbar;</tt>&rsquo;). The second number (if present) says which source sentence the word belongs to. The first number says the position of the word within its source sentence. If there is no second number, then the graph has only one source sentence.</p>

<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;Square bracket content tells us about how words function, e.g., <tt>[ARG0]</tt>=logical subject, <tt>[DIR]</tt>=direction role.</p>

<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;Word content and&sol;or square bracket content can provide the content for a graph node. Word content and&sol;or square bracket content can also provide the label for a directed arrow that connects graph nodes. An arrow connects content from one node &mdash; the master node (often a predicate word) to another node &mdash; the dependent node. It is most typical for square bracket content to be part of the label for a directed arrow.</p>

<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;Most words from source sentences have a presence within the corresponding graph, however some words make a contribution that has to be seen in terms of consequences for graph nodes and their dependencies. Missing words include words that are used to make reference to what is talked about, with node presence capturing the reference contribution. These words can be either:</p>
<ul>
<li><b><i>indefinites</i></b> (e.g., <i>a</i>, <i>an</i>, <i>some</i>) used to introduce new items for discussion (discourse referents),</li>
<li><b><i>definites</i></b> (e.g., <i>the</i>, <i>these</i>, <i>this</i>) used for a familiar or unique referent of the discourse, or</li>
<li><b><i>sentence</i></b>&sol;<b><i>discourse bound pronouns</i></b> (e.g., <i>he</i>, <i>her</i>, <i>themselves</i>) that are links to already established referents.</li>
</ul>

<p align="justify">Note that unbound pronouns do have graph presence.</p>

<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;Other words with no graph presence are:</p>
<ul>
<li><b><i>relative pronouns</i></b> used at the start of a relative clause, e.g., <i>who</i>, <i>which</i>, <i>that</i> (<i>the girl <u>who</u> smiled</i>, <i>the house <u>which&sol;that</u> Jack built</i>), and</li>
<li>the <b><i>complementizer</i></b> <i>that</i> used at the start of an embedded clause (<i>I think <u>that</u> she smiled</i>, <i>the claim <u>that</u> Jack built a house</i>).</li>
</ul>

<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;It is also possible for word content to involve the &lsquo;#&rsquo; symbol. This marks a word absence due to phrase head or verb elision in the source sentence. For example, consider (<a href="#ex8">8</a>).</p>

<dl>
  <dt>(<a name="ex8">8</a>)</dt><dd>He lost one of his shoes among the cabbages, and the other shoe amongst the potatoes.</dd>
</dl>

<p align="justify">Figure <a href="#fig5">5</a> shows the graph that is generated from a parse of (<a href="#ex8">8</a>) by the interface.</p>

<p><a name="fig5">Figure 5: Graph for (5), an example with elision</a></p>

<img src="https://ajb129.github.io/puzzles4.png" alt="Graph for (5), a example with elision" height="450">

<p align="justify">The graph of Figure <a href="#fig5">5</a> has two verbs connected by <tt>[conj1]</tt> and <tt>[conj2]</tt> arrows from the word <i>and</i> occuring topmost in the graph. However, while the first verb is overtly realised with the word <i>lost</i>, the content of the second verb is shown as an instance of &lsquo;#&rsquo; to indicate the licensed absence of a verb (a lost <i>lost</i>!). There is one further instance of &lsquo;#&rsquo; in the graph occurring with the links of <tt>[num]</tt> (numeral modifier) and <tt>[loc]among</tt> (locational <i>among</i>) to indicate a nominal head absence.</p>

<br>
<br>
<br>
<h2><a name="references">References</a></h2>

<p><a name="Butler-2021ts">Butler, Alastair. 2021.</a> Meaning representations from treebanks. The Treebank Semantics Web Site. Available at: <tt><a href="http://www.compling.jp/ajb129/ts.html">http://www.compling.jp/ajb129/ts.html</a></tt>.</p>

<p><a name="Cowie-1989">Cowie, A P. 1989.</a> <i>Oxford Advanced Learner's Dictionary, Fourth Edition</i>. Oxford: Oxford University Press.</p>

<p><a name="Magloire-et-al-2021">Magloire, Alain et al. 2021.</a> GNU Grep: Print lines that match patterns, version 3.7. Free Software Foundation.</p>

<p><a name="Rohde-2005">Rohde, Douglas. 2005.</a> TGrep2 User Manual version 1.15. Available at: <tt><a href="https://github.com/andreasvc/tgrep2">https://github.com/andreasvc/tgrep2</a></tt>.</p>

<br/>
<br/>

</body>
</html>
